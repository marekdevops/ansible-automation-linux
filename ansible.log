2025-10-13 10:22:03,094 p=70364 u=marek n=ansible | PLAY [Linux Administrator Automation - Main Playbook] **************************
2025-10-13 10:22:03,100 p=70364 u=marek n=ansible | TASK [Gathering Facts] *********************************************************
2025-10-13 10:22:03,328 p=70364 u=marek n=ansible | [WARNING]: Unhandled error in Python interpreter discovery for host
192.168.1.54: Failed to connect to the host via ssh: Warning: Permanently added
'192.168.1.54' (ED25519) to the list of known hosts.  no such identity:
/home/marek/.ssh/id_rsa: No such file or directory  root@192.168.1.54:
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).

2025-10-13 10:22:03,408 p=70364 u=marek n=ansible | fatal: [192.168.1.54]: UNREACHABLE! => changed=false 
  msg: |-
    Data could not be sent to remote host "192.168.1.54". Make sure this host can be reached over ssh: Warning: Permanently added '192.168.1.54' (ED25519) to the list of known hosts.
    no such identity: /home/marek/.ssh/id_rsa: No such file or directory
    root@192.168.1.54: Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
  unreachable: true
2025-10-13 10:22:03,409 p=70364 u=marek n=ansible | PLAY RECAP *********************************************************************
2025-10-13 10:22:03,409 p=70364 u=marek n=ansible | 192.168.1.54               : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2025-10-13 10:27:10,140 p=71030 u=marek n=ansible | PLAY [Linux Administrator Automation - Main Playbook] **************************
2025-10-13 10:27:10,145 p=71030 u=marek n=ansible | TASK [Gathering Facts] *********************************************************
2025-10-13 10:27:10,345 p=71030 u=marek n=ansible | [WARNING]: Unhandled error in Python interpreter discovery for host
192.168.1.54: Failed to connect to the host via ssh: Warning: Permanently added
'192.168.1.54' (ED25519) to the list of known hosts.  root@192.168.1.54:
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).

2025-10-13 10:27:10,421 p=71030 u=marek n=ansible | fatal: [192.168.1.54]: UNREACHABLE! => changed=false 
  msg: |-
    Data could not be sent to remote host "192.168.1.54". Make sure this host can be reached over ssh: Warning: Permanently added '192.168.1.54' (ED25519) to the list of known hosts.
    root@192.168.1.54: Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
  unreachable: true
2025-10-13 10:27:10,421 p=71030 u=marek n=ansible | PLAY RECAP *********************************************************************
2025-10-13 10:27:10,421 p=71030 u=marek n=ansible | 192.168.1.54               : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2025-10-13 10:28:34,289 p=71227 u=marek n=ansible | PLAY [Linux Administrator Automation - Main Playbook] **************************
2025-10-13 10:28:34,295 p=71227 u=marek n=ansible | TASK [Gathering Facts] *********************************************************
2025-10-13 10:28:34,532 p=71227 u=marek n=ansible | [WARNING]: Unhandled error in Python interpreter discovery for host
192.168.1.54: Failed to connect to the host via ssh: Warning: Permanently added
'192.168.1.54' (ED25519) to the list of known hosts.  root@192.168.1.54:
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).

2025-10-13 10:28:34,613 p=71227 u=marek n=ansible | fatal: [192.168.1.54]: UNREACHABLE! => changed=false 
  msg: |-
    Data could not be sent to remote host "192.168.1.54". Make sure this host can be reached over ssh: Warning: Permanently added '192.168.1.54' (ED25519) to the list of known hosts.
    root@192.168.1.54: Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
  unreachable: true
2025-10-13 10:28:34,613 p=71227 u=marek n=ansible | PLAY RECAP *********************************************************************
2025-10-13 10:28:34,613 p=71227 u=marek n=ansible | 192.168.1.54               : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2025-10-13 10:29:45,205 p=71328 u=marek n=ansible | PLAY [Linux Administrator Automation - Main Playbook] **************************
2025-10-13 10:29:45,212 p=71328 u=marek n=ansible | TASK [Gathering Facts] *********************************************************
2025-10-13 10:29:45,441 p=71328 u=marek n=ansible | [WARNING]: Unhandled error in Python interpreter discovery for host
192.168.1.54: Failed to connect to the host via ssh: Warning: Permanently added
'192.168.1.54' (ED25519) to the list of known hosts.  root@192.168.1.54:
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).

2025-10-13 10:29:45,521 p=71328 u=marek n=ansible | fatal: [192.168.1.54]: UNREACHABLE! => changed=false 
  msg: |-
    Data could not be sent to remote host "192.168.1.54". Make sure this host can be reached over ssh: Warning: Permanently added '192.168.1.54' (ED25519) to the list of known hosts.
    root@192.168.1.54: Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
  unreachable: true
2025-10-13 10:29:45,522 p=71328 u=marek n=ansible | PLAY RECAP *********************************************************************
2025-10-13 10:29:45,522 p=71328 u=marek n=ansible | 192.168.1.54               : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2025-10-13 10:30:54,082 p=71516 u=marek n=ansible | PLAY [Linux Administrator Automation - Main Playbook] **************************
2025-10-13 10:30:54,088 p=71516 u=marek n=ansible | TASK [Gathering Facts] *********************************************************
2025-10-13 10:30:54,326 p=71516 u=marek n=ansible | [WARNING]: Unhandled error in Python interpreter discovery for host
192.168.1.54: Failed to connect to the host via ssh: Warning: Permanently added
'192.168.1.54' (ED25519) to the list of known hosts.  root@192.168.1.54:
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).

2025-10-13 10:30:54,408 p=71516 u=marek n=ansible | fatal: [192.168.1.54]: UNREACHABLE! => changed=false 
  msg: |-
    Data could not be sent to remote host "192.168.1.54". Make sure this host can be reached over ssh: Warning: Permanently added '192.168.1.54' (ED25519) to the list of known hosts.
    root@192.168.1.54: Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
  unreachable: true
2025-10-13 10:30:54,408 p=71516 u=marek n=ansible | PLAY RECAP *********************************************************************
2025-10-13 10:30:54,408 p=71516 u=marek n=ansible | 192.168.1.54               : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2025-10-13 10:31:29,969 p=71627 u=marek n=ansible | PLAY [Linux Administrator Automation - Main Playbook] **************************
2025-10-13 10:31:29,974 p=71627 u=marek n=ansible | TASK [Gathering Facts] *********************************************************
2025-10-13 10:31:30,295 p=71627 u=marek n=ansible | fatal: [192.168.1.54]: FAILED! => changed=false 
  ansible_facts: {}
  failed_modules:
    ansible.legacy.setup:
      ansible_facts:
        discovered_interpreter_python: /usr/bin/python3
      failed: true
      module_stderr: |-
        sudo: wymagane jest has≈Ço
      module_stdout: ''
      msg: |-
        MODULE FAILURE
        See stdout/stderr for the exact error
      rc: 1
  msg: |-
    The following modules failed to execute: ansible.legacy.setup
2025-10-13 10:31:30,296 p=71627 u=marek n=ansible | PLAY RECAP *********************************************************************
2025-10-13 10:31:30,296 p=71627 u=marek n=ansible | 192.168.1.54               : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-10-13 10:33:31,978 p=71874 u=marek n=ansible | PLAY [Linux Administrator Automation - Main Playbook] **************************
2025-10-13 10:33:31,984 p=71874 u=marek n=ansible | TASK [Gathering Facts] *********************************************************
2025-10-13 10:33:32,776 p=71874 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 10:33:32,781 p=71874 u=marek n=ansible | TASK [Wy≈õwietl informacje o systemie] ******************************************
2025-10-13 10:33:32,792 p=71874 u=marek n=ansible | ok: [192.168.1.54] => 
  msg: |-
    System: RedHat 9.6
    Kernel: 5.14.0-570.39.1.el9_6.x86_64
    Architektura: x86_64
    Hostname: rhel
    IP: 10.0.2.15
2025-10-13 10:33:32,796 p=71874 u=marek n=ansible | TASK [Sprawd≈∫ wymagania systemowe] *********************************************
2025-10-13 10:33:32,809 p=71874 u=marek n=ansible | included: /home/marek/CODE/ansible-automation-linux/tasks/prerequisites.yml for 192.168.1.54
2025-10-13 10:33:32,815 p=71874 u=marek n=ansible | TASK [Sprawd≈∫ wersjƒô Ansible] **************************************************
2025-10-13 10:33:32,828 p=71874 u=marek n=ansible | ok: [192.168.1.54] => changed=false 
  msg: 'Wersja Ansible OK: 2.16.3'
2025-10-13 10:33:32,832 p=71874 u=marek n=ansible | TASK [Sprawd≈∫ system operacyjny] ***********************************************
2025-10-13 10:33:32,843 p=71874 u=marek n=ansible | ok: [192.168.1.54] => changed=false 
  msg: 'System operacyjny obs≈Çugiwany: RedHat'
2025-10-13 10:33:32,848 p=71874 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôpno≈õƒá sudo] *************************************************
2025-10-13 10:33:33,008 p=71874 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 10:33:33,012 p=71874 u=marek n=ansible | TASK [Sprawd≈∫ uprawnienia sudo] ************************************************
2025-10-13 10:33:33,125 p=71874 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 10:33:33,142 p=71874 u=marek n=ansible | TASK [Ostrze≈ºenie o braku sudo] ************************************************
2025-10-13 10:33:33,153 p=71874 u=marek n=ansible | ok: [192.168.1.54] => 
  msg: 'UWAGA: Sudo nie jest dostƒôpne lub skonfigurowane. Niekt√≥re zadania mogƒÖ siƒô nie powie≈õƒá.'
2025-10-13 10:33:33,157 p=71874 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôpno≈õƒá Pythona] **********************************************
2025-10-13 10:33:33,273 p=71874 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 10:33:33,278 p=71874 u=marek n=ansible | TASK [Wy≈õwietl wersjƒô Pythona] *************************************************
2025-10-13 10:33:33,288 p=71874 u=marek n=ansible | ok: [192.168.1.54] => 
  msg: 'Python version: Python 3.9.21'
2025-10-13 10:33:33,292 p=71874 u=marek n=ansible | TASK [Sprawd≈∫ wolne miejsce na dysku] ******************************************
2025-10-13 10:33:33,401 p=71874 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 10:33:33,406 p=71874 u=marek n=ansible | TASK [Ostrze≈ºenie o ma≈Çym miejscu na dysku] ************************************
2025-10-13 10:33:33,425 p=71874 u=marek n=ansible | ok: [192.168.1.54] => 
  msg: 'UWAGA: Ma≈Ço miejsca na dysku systemowym. Dostƒôpne: 15G'
2025-10-13 10:33:33,430 p=71874 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôpno≈õƒá internetu] ********************************************
2025-10-13 10:33:33,895 p=71874 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 10:33:33,900 p=71874 u=marek n=ansible | TASK [Ostrze≈ºenie o braku internetu] *******************************************
2025-10-13 10:33:33,907 p=71874 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-13 10:33:33,912 p=71874 u=marek n=ansible | TASK [Utw√≥rz katalogi robocze] *************************************************
2025-10-13 10:33:34,070 p=71874 u=marek n=ansible | failed: [192.168.1.54] (item={'path': '/opt/scripts', 'owner': 'root', 'group': 'root', 'mode': '0755'}) => changed=false 
  ansible_loop_var: item
  item:
    group: root
    mode: '0755'
    owner: root
    path: /opt/scripts
  msg: 'There was an issue creating /opt/scripts as requested: [Errno 13] Brak dostƒôpu: b''/opt/scripts'''
  path: /opt/scripts
2025-10-13 10:33:34,174 p=71874 u=marek n=ansible | failed: [192.168.1.54] (item={'path': '/var/log/automation', 'owner': 'root', 'group': 'root', 'mode': '0755'}) => changed=false 
  ansible_loop_var: item
  item:
    group: root
    mode: '0755'
    owner: root
    path: /var/log/automation
  msg: 'There was an issue creating /var/log/automation as requested: [Errno 13] Brak dostƒôpu: b''/var/log/automation'''
  path: /var/log/automation
2025-10-13 10:33:34,277 p=71874 u=marek n=ansible | failed: [192.168.1.54] (item={'path': '/etc/automation', 'owner': 'root', 'group': 'root', 'mode': '0755'}) => changed=false 
  ansible_loop_var: item
  item:
    group: root
    mode: '0755'
    owner: root
    path: /etc/automation
  msg: 'There was an issue creating /etc/automation as requested: [Errno 13] Brak dostƒôpu: b''/etc/automation'''
  path: /etc/automation
2025-10-13 10:33:34,278 p=71874 u=marek n=ansible | PLAY RECAP *********************************************************************
2025-10-13 10:33:34,278 p=71874 u=marek n=ansible | 192.168.1.54               : ok=13   changed=0    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2025-10-13 10:39:05,835 p=72307 u=marek n=ansible | PLAY [Linux Administrator Automation - Main Playbook] **************************
2025-10-13 10:39:05,841 p=72307 u=marek n=ansible | TASK [Gathering Facts] *********************************************************
2025-10-13 10:39:06,211 p=72307 u=marek n=ansible | fatal: [192.168.1.54]: FAILED! => changed=false 
  ansible_facts: {}
  failed_modules:
    ansible.legacy.setup:
      ansible_facts:
        discovered_interpreter_python: /usr/bin/python3
      failed: true
      module_stderr: |-
        sudo: wymagane jest has≈Ço
      module_stdout: ''
      msg: |-
        MODULE FAILURE
        See stdout/stderr for the exact error
      rc: 1
  msg: |-
    The following modules failed to execute: ansible.legacy.setup
2025-10-13 10:39:06,212 p=72307 u=marek n=ansible | PLAY RECAP *********************************************************************
2025-10-13 10:39:06,212 p=72307 u=marek n=ansible | 192.168.1.54               : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-10-13 10:40:20,719 p=72406 u=marek n=ansible | PLAY [Linux Administrator Automation - Main Playbook] **************************
2025-10-13 10:40:20,725 p=72406 u=marek n=ansible | TASK [Gathering Facts] *********************************************************
2025-10-13 10:40:21,619 p=72406 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 10:40:21,624 p=72406 u=marek n=ansible | TASK [Wy≈õwietl informacje o systemie] ******************************************
2025-10-13 10:40:21,634 p=72406 u=marek n=ansible | ok: [192.168.1.54] => 
  msg: |-
    System: RedHat 9.6
    Kernel: 5.14.0-570.39.1.el9_6.x86_64
    Architektura: x86_64
    Hostname: rhel
    IP: 10.0.2.15
2025-10-13 10:40:21,638 p=72406 u=marek n=ansible | TASK [Sprawd≈∫ wymagania systemowe] *********************************************
2025-10-13 10:40:21,651 p=72406 u=marek n=ansible | included: /home/marek/CODE/ansible-automation-linux/tasks/prerequisites.yml for 192.168.1.54
2025-10-13 10:40:21,657 p=72406 u=marek n=ansible | TASK [Sprawd≈∫ wersjƒô Ansible] **************************************************
2025-10-13 10:40:21,668 p=72406 u=marek n=ansible | ok: [192.168.1.54] => changed=false 
  msg: 'Wersja Ansible OK: 2.16.3'
2025-10-13 10:40:21,673 p=72406 u=marek n=ansible | TASK [Sprawd≈∫ system operacyjny] ***********************************************
2025-10-13 10:40:21,682 p=72406 u=marek n=ansible | ok: [192.168.1.54] => changed=false 
  msg: 'System operacyjny obs≈Çugiwany: RedHat'
2025-10-13 10:40:21,686 p=72406 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôpno≈õƒá sudo] *************************************************
2025-10-13 10:40:21,865 p=72406 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 10:40:21,870 p=72406 u=marek n=ansible | TASK [Sprawd≈∫ uprawnienia sudo] ************************************************
2025-10-13 10:40:21,997 p=72406 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 10:40:22,016 p=72406 u=marek n=ansible | TASK [Ostrze≈ºenie o braku sudo] ************************************************
2025-10-13 10:40:22,024 p=72406 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-13 10:40:22,028 p=72406 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôpno≈õƒá Pythona] **********************************************
2025-10-13 10:40:22,155 p=72406 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 10:40:22,161 p=72406 u=marek n=ansible | TASK [Wy≈õwietl wersjƒô Pythona] *************************************************
2025-10-13 10:40:22,169 p=72406 u=marek n=ansible | ok: [192.168.1.54] => 
  msg: 'Python version: Python 3.9.21'
2025-10-13 10:40:22,174 p=72406 u=marek n=ansible | TASK [Sprawd≈∫ wolne miejsce na dysku] ******************************************
2025-10-13 10:40:22,293 p=72406 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 10:40:22,299 p=72406 u=marek n=ansible | TASK [Ostrze≈ºenie o ma≈Çym miejscu na dysku] ************************************
2025-10-13 10:40:22,318 p=72406 u=marek n=ansible | ok: [192.168.1.54] => 
  msg: 'UWAGA: Ma≈Ço miejsca na dysku systemowym. Dostƒôpne: 15G'
2025-10-13 10:40:22,322 p=72406 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôpno≈õƒá internetu] ********************************************
2025-10-13 10:40:22,766 p=72406 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 10:40:22,771 p=72406 u=marek n=ansible | TASK [Ostrze≈ºenie o braku internetu] *******************************************
2025-10-13 10:40:22,779 p=72406 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-13 10:40:22,784 p=72406 u=marek n=ansible | TASK [Utw√≥rz katalogi robocze] *************************************************
2025-10-13 10:40:22,951 p=72406 u=marek n=ansible | changed: [192.168.1.54] => (item={'path': '/opt/scripts', 'owner': 'root', 'group': 'root', 'mode': '0755'})
2025-10-13 10:40:23,067 p=72406 u=marek n=ansible | changed: [192.168.1.54] => (item={'path': '/var/log/automation', 'owner': 'root', 'group': 'root', 'mode': '0755'})
2025-10-13 10:40:23,180 p=72406 u=marek n=ansible | changed: [192.168.1.54] => (item={'path': '/etc/automation', 'owner': 'root', 'group': 'root', 'mode': '0755'})
2025-10-13 10:40:23,193 p=72406 u=marek n=ansible | ERROR! [DEPRECATED]: ansible.builtin.include has been removed. Use include_tasks or import_tasks instead. This feature was removed from ansible-core in a release after 2023-05-16. Please update your playbooks.
2025-10-13 10:55:31,155 p=74840 u=marek n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2025-10-13 10:55:31,254 p=74840 u=marek n=ansible | PLAY [USER MODULE - ZarzƒÖdzanie u≈ºytkownikami] **************************************************************************************
2025-10-13 10:55:31,254 p=74840 u=marek n=ansible | skipping: no hosts matched
2025-10-13 10:55:31,254 p=74840 u=marek n=ansible | PLAY RECAP **************************************************************************************************************************
2025-10-13 10:55:40,712 p=74892 u=marek n=ansible | PLAY [USER MODULE - ZarzƒÖdzanie u≈ºytkownikami] **************************************************************************************
2025-10-13 10:55:40,716 p=74892 u=marek n=ansible | TASK [Gathering Facts] **************************************************************************************************************
2025-10-13 10:55:40,848 p=74892 u=marek n=ansible | fatal: [localhost]: FAILED! => changed=false 
  ansible_facts: {}
  failed_modules:
    ansible.legacy.setup:
      failed: true
      module_stderr: |-
        sudo: wymagane jest has≈Ço
      module_stdout: ''
      msg: |-
        MODULE FAILURE
        See stdout/stderr for the exact error
      rc: 1
  msg: |-
    The following modules failed to execute: ansible.legacy.setup
2025-10-13 10:55:40,849 p=74892 u=marek n=ansible | PLAY RECAP **************************************************************************************************************************
2025-10-13 10:55:40,849 p=74892 u=marek n=ansible | localhost                  : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-10-13 10:56:16,519 p=75044 u=marek n=ansible | PLAY [USER MODULE - ZarzƒÖdzanie u≈ºytkownikami] **************************************************************************************
2025-10-13 10:56:16,523 p=75044 u=marek n=ansible | TASK [Gathering Facts] **************************************************************************************************************
2025-10-13 10:56:17,182 p=75044 u=marek n=ansible | ok: [localhost]
2025-10-13 10:56:17,185 p=75044 u=marek n=ansible | TASK [Sprawd≈∫ czy podano nazwƒô u≈ºytkownika] *****************************************************************************************
2025-10-13 10:56:17,201 p=75044 u=marek n=ansible | skipping: [localhost]
2025-10-13 10:56:17,206 p=75044 u=marek n=ansible | TASK [Wy≈õwietl informacje o tworzeniu u≈ºytkownika] **********************************************************************************
2025-10-13 10:56:17,232 p=75044 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === TWORZENIE U≈ªYTKOWNIKA ===
    U≈ºytkownik: test_user
    Katalog domowy: /home/test_user
    Shell: /bin/bash
    Grupy: {'all': ['localhost'], 'ungrouped': ['localhost']}
    Sudo: Nie
2025-10-13 10:56:17,242 p=75044 u=marek n=ansible | TASK [Sprawd≈∫ czy u≈ºytkownik ju≈º istnieje] ******************************************************************************************
2025-10-13 10:56:17,395 p=75044 u=marek n=ansible | ok: [localhost]
2025-10-13 10:56:17,399 p=75044 u=marek n=ansible | TASK [Informacja o istniejƒÖcym u≈ºytkowniku] *****************************************************************************************
2025-10-13 10:56:17,408 p=75044 u=marek n=ansible | skipping: [localhost]
2025-10-13 10:56:17,412 p=75044 u=marek n=ansible | TASK [Utw√≥rz katalog domowy (je≈õli niestandardowy)] *********************************************************************************
2025-10-13 10:56:17,431 p=75044 u=marek n=ansible | skipping: [localhost]
2025-10-13 10:56:17,435 p=75044 u=marek n=ansible | TASK [Utw√≥rz u≈ºytkownika] ***********************************************************************************************************
2025-10-13 10:56:17,456 p=75044 u=marek n=ansible | fatal: [localhost]: FAILED! => 
  msg: |-
    The task includes an option with an undefined variable. The error was: 'dict object' has no attribute 'split'. 'dict object' has no attribute 'split'
  
    The error appears to be in '/home/marek/CODE/ansible-automation-linux/playbooks/user.yml': line 74, column 7, but may
    be elsewhere in the file depending on the exact syntax problem.
  
    The offending line appears to be:
  
  
        - name: "Utw√≥rz u≈ºytkownika"
          ^ here
2025-10-13 10:56:17,457 p=75044 u=marek n=ansible | PLAY RECAP **************************************************************************************************************************
2025-10-13 10:56:17,457 p=75044 u=marek n=ansible | localhost                  : ok=3    changed=0    unreachable=0    failed=1    skipped=3    rescued=0    ignored=0   
2025-10-13 10:56:38,963 p=75289 u=marek n=ansible | PLAY [USER MODULE - ZarzƒÖdzanie u≈ºytkownikami] **************************************************************************************
2025-10-13 10:56:38,967 p=75289 u=marek n=ansible | TASK [Gathering Facts] **************************************************************************************************************
2025-10-13 10:56:39,618 p=75289 u=marek n=ansible | ok: [localhost]
2025-10-13 10:56:39,621 p=75289 u=marek n=ansible | TASK [Sprawd≈∫ czy podano nazwƒô u≈ºytkownika] *****************************************************************************************
2025-10-13 10:56:39,641 p=75289 u=marek n=ansible | skipping: [localhost]
2025-10-13 10:56:39,646 p=75289 u=marek n=ansible | TASK [Wy≈õwietl informacje o tworzeniu u≈ºytkownika] **********************************************************************************
2025-10-13 10:56:39,668 p=75289 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === TWORZENIE U≈ªYTKOWNIKA ===
    U≈ºytkownik: test_user
    Katalog domowy: /home/test_user
    Shell: /bin/bash
    Grupy: brak dodatkowych
    Sudo: Nie
2025-10-13 10:56:39,678 p=75289 u=marek n=ansible | TASK [Sprawd≈∫ czy u≈ºytkownik ju≈º istnieje] ******************************************************************************************
2025-10-13 10:56:39,836 p=75289 u=marek n=ansible | ok: [localhost]
2025-10-13 10:56:39,840 p=75289 u=marek n=ansible | TASK [Informacja o istniejƒÖcym u≈ºytkowniku] *****************************************************************************************
2025-10-13 10:56:39,849 p=75289 u=marek n=ansible | skipping: [localhost]
2025-10-13 10:56:39,855 p=75289 u=marek n=ansible | TASK [Utw√≥rz katalog domowy (je≈õli niestandardowy)] *********************************************************************************
2025-10-13 10:56:39,872 p=75289 u=marek n=ansible | skipping: [localhost]
2025-10-13 10:56:39,877 p=75289 u=marek n=ansible | TASK [Utw√≥rz u≈ºytkownika] ***********************************************************************************************************
2025-10-13 10:56:40,077 p=75289 u=marek n=ansible | changed: [localhost]
2025-10-13 10:56:40,081 p=75289 u=marek n=ansible | TASK [Ustaw w≈Ça≈õciciela katalogu domowego] ******************************************************************************************
2025-10-13 10:56:40,245 p=75289 u=marek n=ansible | [0;31m--- before[0m
[0;31m[0m[0;32m+++ after[0m
[0;32m[0m[0;36m@@ -1,2 +1,2 @@[0m
[0;36m[0m path: /home/test_user
[0;31m-state: absent[0m
[0;31m[0m[0;32m+state: directory[0m
[0;32m[0m

2025-10-13 10:56:40,245 p=75289 u=marek n=ansible | [WARNING]: failed to look up user test_user. Create user up to this point in real play

2025-10-13 10:56:40,245 p=75289 u=marek n=ansible | [WARNING]: failed to look up group test_user. Create group up to this point in real play

2025-10-13 10:56:40,245 p=75289 u=marek n=ansible | changed: [localhost]
2025-10-13 10:56:40,249 p=75289 u=marek n=ansible | TASK [Dodaj u≈ºytkownika do sudoers (je≈õli w≈ÇƒÖczone)] ********************************************************************************
2025-10-13 10:56:40,266 p=75289 u=marek n=ansible | skipping: [localhost]
2025-10-13 10:56:40,271 p=75289 u=marek n=ansible | TASK [Utw√≥rz katalog .ssh] **********************************************************************************************************
2025-10-13 10:56:40,290 p=75289 u=marek n=ansible | skipping: [localhost]
2025-10-13 10:56:40,294 p=75289 u=marek n=ansible | TASK [Dodaj klucz SSH] **************************************************************************************************************
2025-10-13 10:56:40,312 p=75289 u=marek n=ansible | skipping: [localhost]
2025-10-13 10:56:40,316 p=75289 u=marek n=ansible | TASK [Sprawd≈∫ utworzonego u≈ºytkownika] **********************************************************************************************
2025-10-13 10:56:40,426 p=75289 u=marek n=ansible | fatal: [localhost]: FAILED! => changed=false 
  msg: One or more supplied key could not be found in the database.
2025-10-13 10:56:40,427 p=75289 u=marek n=ansible | PLAY RECAP **************************************************************************************************************************
2025-10-13 10:56:40,427 p=75289 u=marek n=ansible | localhost                  : ok=5    changed=2    unreachable=0    failed=1    skipped=6    rescued=0    ignored=0   
2025-10-13 10:57:05,877 p=75649 u=marek n=ansible | PLAY [USER MODULE - ZarzƒÖdzanie u≈ºytkownikami] **************************************************************************************
2025-10-13 10:57:05,880 p=75649 u=marek n=ansible | TASK [Gathering Facts] **************************************************************************************************************
2025-10-13 10:57:06,528 p=75649 u=marek n=ansible | ok: [localhost]
2025-10-13 10:57:06,531 p=75649 u=marek n=ansible | TASK [Sprawd≈∫ czy podano nazwƒô u≈ºytkownika] *****************************************************************************************
2025-10-13 10:57:06,548 p=75649 u=marek n=ansible | skipping: [localhost]
2025-10-13 10:57:06,553 p=75649 u=marek n=ansible | TASK [Wy≈õwietl informacje o tworzeniu u≈ºytkownika] **********************************************************************************
2025-10-13 10:57:06,579 p=75649 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === TWORZENIE U≈ªYTKOWNIKA ===
    U≈ºytkownik: test_user
    Katalog domowy: /home/test_user
    Shell: /bin/bash
    Grupy: brak dodatkowych
    Sudo: Nie
2025-10-13 10:57:06,590 p=75649 u=marek n=ansible | TASK [Sprawd≈∫ czy u≈ºytkownik ju≈º istnieje] ******************************************************************************************
2025-10-13 10:57:06,749 p=75649 u=marek n=ansible | ok: [localhost]
2025-10-13 10:57:06,753 p=75649 u=marek n=ansible | TASK [Informacja o istniejƒÖcym u≈ºytkowniku] *****************************************************************************************
2025-10-13 10:57:06,763 p=75649 u=marek n=ansible | skipping: [localhost]
2025-10-13 10:57:06,768 p=75649 u=marek n=ansible | TASK [Utw√≥rz katalog domowy (je≈õli niestandardowy)] *********************************************************************************
2025-10-13 10:57:06,787 p=75649 u=marek n=ansible | skipping: [localhost]
2025-10-13 10:57:06,791 p=75649 u=marek n=ansible | TASK [Utw√≥rz u≈ºytkownika] ***********************************************************************************************************
2025-10-13 10:57:06,995 p=75649 u=marek n=ansible | changed: [localhost]
2025-10-13 10:57:07,000 p=75649 u=marek n=ansible | TASK [Ustaw w≈Ça≈õciciela katalogu domowego] ******************************************************************************************
2025-10-13 10:57:07,166 p=75649 u=marek n=ansible | [0;31m--- before[0m
[0;31m[0m[0;32m+++ after[0m
[0;32m[0m[0;36m@@ -1,2 +1,2 @@[0m
[0;36m[0m path: /home/test_user
[0;31m-state: absent[0m
[0;31m[0m[0;32m+state: directory[0m
[0;32m[0m

2025-10-13 10:57:07,167 p=75649 u=marek n=ansible | [WARNING]: failed to look up user test_user. Create user up to this point in real play

2025-10-13 10:57:07,167 p=75649 u=marek n=ansible | [WARNING]: failed to look up group test_user. Create group up to this point in real play

2025-10-13 10:57:07,167 p=75649 u=marek n=ansible | changed: [localhost]
2025-10-13 10:57:07,171 p=75649 u=marek n=ansible | TASK [Dodaj u≈ºytkownika do sudoers (je≈õli w≈ÇƒÖczone)] ********************************************************************************
2025-10-13 10:57:07,186 p=75649 u=marek n=ansible | skipping: [localhost]
2025-10-13 10:57:07,190 p=75649 u=marek n=ansible | TASK [Utw√≥rz katalog .ssh] **********************************************************************************************************
2025-10-13 10:57:07,209 p=75649 u=marek n=ansible | skipping: [localhost]
2025-10-13 10:57:07,213 p=75649 u=marek n=ansible | TASK [Dodaj klucz SSH] **************************************************************************************************************
2025-10-13 10:57:07,229 p=75649 u=marek n=ansible | skipping: [localhost]
2025-10-13 10:57:07,233 p=75649 u=marek n=ansible | TASK [Sprawd≈∫ utworzonego u≈ºytkownika] **********************************************************************************************
2025-10-13 10:57:07,240 p=75649 u=marek n=ansible | skipping: [localhost]
2025-10-13 10:57:07,244 p=75649 u=marek n=ansible | TASK [Wy≈õwietl informacje o u≈ºytkowniku] ********************************************************************************************
2025-10-13 10:57:07,269 p=75649 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === U≈ªYTKOWNIK UTWORZONY ===
    Login: test_user
    UID: N/A (dry-run)
    GID: N/A (dry-run)
    Katalog: /home/test_user
    Shell: /bin/bash
    Status: Dry-run - zmiany nie zosta≈Çy zastosowane
2025-10-13 10:57:07,275 p=75649 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôp sudo] **********************************************************************************************************
2025-10-13 10:57:07,434 p=75649 u=marek n=ansible | skipping: [localhost]
2025-10-13 10:57:07,438 p=75649 u=marek n=ansible | TASK [Wy≈õwietl podsumowanie] ********************************************************************************************************
2025-10-13 10:57:07,462 p=75649 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === PODSUMOWANIE ===
    U≈ºytkownik test_user zosta≈Ç utworzony
    Katalog domowy: /home/test_user
    Dostƒôp sudo: Nie
  
    Aby zalogowaƒá siƒô jako test_user:
    sudo su - test_user
2025-10-13 10:57:07,475 p=75649 u=marek n=ansible | PLAY RECAP **************************************************************************************************************************
2025-10-13 10:57:07,475 p=75649 u=marek n=ansible | localhost                  : ok=7    changed=2    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0   
2025-10-13 10:57:55,508 p=75980 u=marek n=ansible | PLAY [Linux Administrator Automation - Main Playbook] **********************************************************************************************************************************
2025-10-13 10:57:55,515 p=75980 u=marek n=ansible | TASK [Gathering Facts] *****************************************************************************************************************************************************************
2025-10-13 10:57:56,386 p=75980 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 10:57:56,390 p=75980 u=marek n=ansible | TASK [Wy≈õwietl informacje o systemie] **************************************************************************************************************************************************
2025-10-13 10:57:56,401 p=75980 u=marek n=ansible | ok: [192.168.1.54] => 
  msg: |-
    System: RedHat 9.6
    Kernel: 5.14.0-570.39.1.el9_6.x86_64
    Architektura: x86_64
    Hostname: rhel
    IP: 10.0.2.15
2025-10-13 10:57:56,406 p=75980 u=marek n=ansible | TASK [Sprawd≈∫ wymagania systemowe] *****************************************************************************************************************************************************
2025-10-13 10:57:56,418 p=75980 u=marek n=ansible | included: /home/marek/CODE/ansible-automation-linux/tasks/prerequisites.yml for 192.168.1.54
2025-10-13 10:57:56,424 p=75980 u=marek n=ansible | TASK [Sprawd≈∫ wersjƒô Ansible] **********************************************************************************************************************************************************
2025-10-13 10:57:56,436 p=75980 u=marek n=ansible | ok: [192.168.1.54] => changed=false 
  msg: 'Wersja Ansible OK: 2.16.3'
2025-10-13 10:57:56,440 p=75980 u=marek n=ansible | TASK [Sprawd≈∫ system operacyjny] *******************************************************************************************************************************************************
2025-10-13 10:57:56,449 p=75980 u=marek n=ansible | ok: [192.168.1.54] => changed=false 
  msg: 'System operacyjny obs≈Çugiwany: RedHat'
2025-10-13 10:57:56,453 p=75980 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôpno≈õƒá sudo] *********************************************************************************************************************************************************
2025-10-13 10:57:56,610 p=75980 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 10:57:56,614 p=75980 u=marek n=ansible | TASK [Sprawd≈∫ uprawnienia sudo] ********************************************************************************************************************************************************
2025-10-13 10:57:56,741 p=75980 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 10:57:56,746 p=75980 u=marek n=ansible | TASK [Ostrze≈ºenie o braku sudo] ********************************************************************************************************************************************************
2025-10-13 10:57:56,753 p=75980 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-13 10:57:56,758 p=75980 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôpno≈õƒá Pythona] ******************************************************************************************************************************************************
2025-10-13 10:57:56,882 p=75980 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 10:57:56,888 p=75980 u=marek n=ansible | TASK [Wy≈õwietl wersjƒô Pythona] *********************************************************************************************************************************************************
2025-10-13 10:57:56,896 p=75980 u=marek n=ansible | ok: [192.168.1.54] => 
  msg: 'Python version: Python 3.9.21'
2025-10-13 10:57:56,916 p=75980 u=marek n=ansible | TASK [Sprawd≈∫ wolne miejsce na dysku] **************************************************************************************************************************************************
2025-10-13 10:57:57,033 p=75980 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 10:57:57,038 p=75980 u=marek n=ansible | TASK [Ostrze≈ºenie o ma≈Çym miejscu na dysku] ********************************************************************************************************************************************
2025-10-13 10:57:57,057 p=75980 u=marek n=ansible | ok: [192.168.1.54] => 
  msg: 'UWAGA: Ma≈Ço miejsca na dysku systemowym. Dostƒôpne: 15G'
2025-10-13 10:57:57,062 p=75980 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôpno≈õƒá internetu] ****************************************************************************************************************************************************
2025-10-13 10:57:57,574 p=75980 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 10:57:57,579 p=75980 u=marek n=ansible | TASK [Ostrze≈ºenie o braku internetu] ***************************************************************************************************************************************************
2025-10-13 10:57:57,586 p=75980 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-13 10:57:57,590 p=75980 u=marek n=ansible | TASK [Utw√≥rz katalogi robocze] *********************************************************************************************************************************************************
2025-10-13 10:57:57,759 p=75980 u=marek n=ansible | ok: [192.168.1.54] => (item={'path': '/opt/scripts', 'owner': 'root', 'group': 'root', 'mode': '0755'})
2025-10-13 10:57:57,872 p=75980 u=marek n=ansible | ok: [192.168.1.54] => (item={'path': '/var/log/automation', 'owner': 'root', 'group': 'root', 'mode': '0755'})
2025-10-13 10:57:57,983 p=75980 u=marek n=ansible | ok: [192.168.1.54] => (item={'path': '/etc/automation', 'owner': 'root', 'group': 'root', 'mode': '0755'})
2025-10-13 10:57:57,996 p=75980 u=marek n=ansible | TASK [=== SYSTEM TASKS - START ===] ****************************************************************************************************************************************************
2025-10-13 10:57:58,015 p=75980 u=marek n=ansible | ok: [192.168.1.54] => 
  msg: Rozpoczynam zadania systemowe...
2025-10-13 10:57:58,020 p=75980 u=marek n=ansible | TASK [Include System Update Tasks] *****************************************************************************************************************************************************
2025-10-13 10:57:58,045 p=75980 u=marek n=ansible | included: /home/marek/CODE/ansible-automation-linux/playbooks/system/system-update.yml for 192.168.1.54
2025-10-13 10:57:58,052 p=75980 u=marek n=ansible | TASK [Aktualizacja cache pakiet√≥w (Debian/Ubuntu)] *************************************************************************************************************************************
2025-10-13 10:57:58,069 p=75980 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-13 10:57:58,074 p=75980 u=marek n=ansible | TASK [Aktualizacja cache pakiet√≥w (RedHat/CentOS)] *************************************************************************************************************************************
2025-10-13 10:58:21,987 p=75980 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 10:58:21,992 p=75980 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôpne aktualizacje (Debian/Ubuntu)] ***********************************************************************************************************************************
2025-10-13 10:58:22,010 p=75980 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-13 10:58:22,015 p=75980 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôpne aktualizacje (RedHat/CentOS)] ***********************************************************************************************************************************
2025-10-13 10:58:23,935 p=75980 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 10:58:23,940 p=75980 u=marek n=ansible | TASK [Wy≈õwietl liczbƒô dostƒôpnych aktualizacji] *****************************************************************************************************************************************
2025-10-13 10:58:23,961 p=75980 u=marek n=ansible | ok: [192.168.1.54] => 
  msg: |-
    Dostƒôpne aktualizacje: 61
2025-10-13 10:58:23,965 p=75980 u=marek n=ansible | TASK [Aktualizuj wszystkie pakiety (Debian/Ubuntu)] ************************************************************************************************************************************
2025-10-13 10:58:23,983 p=75980 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-13 10:58:23,988 p=75980 u=marek n=ansible | TASK [Aktualizuj wszystkie pakiety (RedHat/CentOS)] ************************************************************************************************************************************
2025-10-13 10:58:32,366 p=75980 u=marek n=ansible |  [ERROR]: User interrupted execution

2025-10-13 10:59:02,904 p=76096 u=marek n=ansible | PLAY [USER MODULE - ZarzƒÖdzanie u≈ºytkownikami] *****************************************************************************************************************************************
2025-10-13 10:59:02,907 p=76096 u=marek n=ansible | TASK [Gathering Facts] *****************************************************************************************************************************************************************
2025-10-13 10:59:04,068 p=76096 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 10:59:04,070 p=76096 u=marek n=ansible | TASK [Sprawd≈∫ czy podano nazwƒô u≈ºytkownika] ********************************************************************************************************************************************
2025-10-13 10:59:04,088 p=76096 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-13 10:59:04,091 p=76096 u=marek n=ansible | TASK [Wy≈õwietl informacje o tworzeniu u≈ºytkownika] *************************************************************************************************************************************
2025-10-13 10:59:04,111 p=76096 u=marek n=ansible | ok: [192.168.1.54] => 
  msg: |-
    === TWORZENIE U≈ªYTKOWNIKA ===
    U≈ºytkownik: webmaster
    Katalog domowy: /home/webmaster
    Shell: /bin/bash
    Grupy: brak dodatkowych
    Sudo: Nie
2025-10-13 10:59:04,116 p=76096 u=marek n=ansible | TASK [Sprawd≈∫ czy u≈ºytkownik ju≈º istnieje] *********************************************************************************************************************************************
2025-10-13 10:59:04,412 p=76096 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 10:59:04,415 p=76096 u=marek n=ansible | TASK [Informacja o istniejƒÖcym u≈ºytkowniku] ********************************************************************************************************************************************
2025-10-13 10:59:04,424 p=76096 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-13 10:59:04,427 p=76096 u=marek n=ansible | TASK [Utw√≥rz katalog domowy (je≈õli niestandardowy)] ************************************************************************************************************************************
2025-10-13 10:59:04,443 p=76096 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-13 10:59:04,446 p=76096 u=marek n=ansible | TASK [Utw√≥rz u≈ºytkownika] **************************************************************************************************************************************************************
2025-10-13 10:59:04,880 p=76096 u=marek n=ansible | changed: [192.168.1.54]
2025-10-13 10:59:04,883 p=76096 u=marek n=ansible | TASK [Ustaw w≈Ça≈õciciela katalogu domowego] *********************************************************************************************************************************************
2025-10-13 10:59:05,206 p=76096 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 10:59:05,209 p=76096 u=marek n=ansible | TASK [Dodaj u≈ºytkownika do sudoers (je≈õli w≈ÇƒÖczone)] ***********************************************************************************************************************************
2025-10-13 10:59:05,225 p=76096 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-13 10:59:05,228 p=76096 u=marek n=ansible | TASK [Utw√≥rz katalog .ssh] *************************************************************************************************************************************************************
2025-10-13 10:59:05,245 p=76096 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-13 10:59:05,248 p=76096 u=marek n=ansible | TASK [Dodaj klucz SSH] *****************************************************************************************************************************************************************
2025-10-13 10:59:05,264 p=76096 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-13 10:59:05,267 p=76096 u=marek n=ansible | TASK [Sprawd≈∫ utworzonego u≈ºytkownika] *************************************************************************************************************************************************
2025-10-13 10:59:05,556 p=76096 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 10:59:05,558 p=76096 u=marek n=ansible | TASK [Wy≈õwietl informacje o u≈ºytkowniku] ***********************************************************************************************************************************************
2025-10-13 10:59:05,580 p=76096 u=marek n=ansible | ok: [192.168.1.54] => 
  msg: |-
    === U≈ªYTKOWNIK UTWORZONY ===
    Login: webmaster
    UID: 1001
    GID: 1001
    Katalog: /home/webmaster
    Shell: /bin/bash
    Status: Nowy
2025-10-13 10:59:05,583 p=76096 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôp sudo] *************************************************************************************************************************************************************
2025-10-13 10:59:05,937 p=76096 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 10:59:05,939 p=76096 u=marek n=ansible | TASK [Wy≈õwietl podsumowanie] ***********************************************************************************************************************************************************
2025-10-13 10:59:05,960 p=76096 u=marek n=ansible | ok: [192.168.1.54] => 
  msg: |-
    === PODSUMOWANIE ===
    U≈ºytkownik webmaster zosta≈Ç utworzony
    Katalog domowy: /home/webmaster
    Dostƒôp sudo: Nie
  
    Aby zalogowaƒá siƒô jako webmaster:
    sudo su - webmaster
2025-10-13 10:59:05,966 p=76096 u=marek n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************
2025-10-13 10:59:05,966 p=76096 u=marek n=ansible | 192.168.1.54               : ok=9    changed=1    unreachable=0    failed=0    skipped=6    rescued=0    ignored=0   
2025-10-13 11:00:58,087 p=76222 u=marek n=ansible | PLAY [SUDOERS MODULE - Konfiguracja uprawnie≈Ñ sudo] ************************************************************************************************************************************
2025-10-13 11:00:58,089 p=76222 u=marek n=ansible | TASK [Gathering Facts] *****************************************************************************************************************************************************************
2025-10-13 11:00:58,932 p=76222 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 11:00:58,934 p=76222 u=marek n=ansible | TASK [Sprawd≈∫ czy podano nazwƒô u≈ºytkownika] ********************************************************************************************************************************************
2025-10-13 11:00:58,952 p=76222 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-13 11:00:58,954 p=76222 u=marek n=ansible | TASK [Sprawd≈∫ czy u≈ºytkownik istnieje w systemie] **************************************************************************************************************************************
2025-10-13 11:00:59,162 p=76222 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 11:00:59,164 p=76222 u=marek n=ansible | TASK [Wy≈õwietl informacje o konfiguracji sudoers] **************************************************************************************************************************************
2025-10-13 11:00:59,184 p=76222 u=marek n=ansible | ok: [192.168.1.54] => 
  msg: |-
    === KONFIGURACJA SUDOERS ===
    U≈ºytkownik: webmaster
    Plik sudoers: /etc/sudoers.d/98-webmaster
    Szablon komend: sudo_commands
    Priorytet: 98
2025-10-13 11:00:59,188 p=76222 u=marek n=ansible | TASK [Sprawd≈∫ czy katalog sudoers.d istnieje] ******************************************************************************************************************************************
2025-10-13 11:00:59,396 p=76222 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 11:00:59,398 p=76222 u=marek n=ansible | TASK [Wczytaj komendy z pliku szablonu] ************************************************************************************************************************************************
2025-10-13 11:00:59,552 p=76222 u=marek n=ansible | fatal: [192.168.1.54 -> localhost]: FAILED! => changed=false 
  msg: 'file not found: templates/sudo_commands'
2025-10-13 11:00:59,552 p=76222 u=marek n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************
2025-10-13 11:00:59,552 p=76222 u=marek n=ansible | 192.168.1.54               : ok=4    changed=0    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2025-10-13 11:01:50,557 p=76313 u=marek n=ansible | PLAY [SUDOERS MODULE - Konfiguracja uprawnie≈Ñ sudo] ************************************************************************************************************************************
2025-10-13 11:01:50,560 p=76313 u=marek n=ansible | TASK [Gathering Facts] *****************************************************************************************************************************************************************
2025-10-13 11:01:51,307 p=76313 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 11:01:51,309 p=76313 u=marek n=ansible | TASK [Sprawd≈∫ czy podano nazwƒô u≈ºytkownika] ********************************************************************************************************************************************
2025-10-13 11:01:51,326 p=76313 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-13 11:01:51,328 p=76313 u=marek n=ansible | TASK [Sprawd≈∫ czy u≈ºytkownik istnieje w systemie] **************************************************************************************************************************************
2025-10-13 11:01:51,489 p=76313 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 11:01:51,492 p=76313 u=marek n=ansible | TASK [Wy≈õwietl informacje o konfiguracji sudoers] **************************************************************************************************************************************
2025-10-13 11:01:51,511 p=76313 u=marek n=ansible | ok: [192.168.1.54] => 
  msg: |-
    === KONFIGURACJA SUDOERS ===
    U≈ºytkownik: webmaster
    Plik sudoers: /etc/sudoers.d/98-webmaster
    Szablon komend: sudo_commands
    Priorytet: 98
2025-10-13 11:01:51,515 p=76313 u=marek n=ansible | TASK [Sprawd≈∫ czy katalog sudoers.d istnieje] ******************************************************************************************************************************************
2025-10-13 11:01:51,678 p=76313 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 11:01:51,680 p=76313 u=marek n=ansible | TASK [Wczytaj komendy z pliku szablonu] ************************************************************************************************************************************************
2025-10-13 11:01:51,827 p=76313 u=marek n=ansible | fatal: [192.168.1.54 -> localhost]: FAILED! => changed=false 
  msg: 'file not found: templates/sudo_commands'
2025-10-13 11:01:51,827 p=76313 u=marek n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************
2025-10-13 11:01:51,828 p=76313 u=marek n=ansible | 192.168.1.54               : ok=4    changed=0    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2025-10-13 11:02:51,589 p=76460 u=marek n=ansible | PLAY [SUDOERS MODULE - Konfiguracja uprawnie≈Ñ sudo] *********************************************************************************
2025-10-13 11:02:51,592 p=76460 u=marek n=ansible | TASK [Gathering Facts] **************************************************************************************************************
2025-10-13 11:02:52,244 p=76460 u=marek n=ansible | ok: [localhost]
2025-10-13 11:02:52,248 p=76460 u=marek n=ansible | TASK [Sprawd≈∫ czy podano nazwƒô u≈ºytkownika] *****************************************************************************************
2025-10-13 11:02:52,265 p=76460 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:02:52,269 p=76460 u=marek n=ansible | TASK [Sprawd≈∫ czy u≈ºytkownik istnieje w systemie] ***********************************************************************************
2025-10-13 11:02:52,430 p=76460 u=marek n=ansible | fatal: [localhost]: FAILED! => changed=false 
  failed_when_result: true
  msg: One or more supplied key could not be found in the database.
2025-10-13 11:02:52,431 p=76460 u=marek n=ansible | PLAY RECAP **************************************************************************************************************************
2025-10-13 11:02:52,431 p=76460 u=marek n=ansible | localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2025-10-13 11:03:12,190 p=76732 u=marek n=ansible | PLAY [SUDOERS MODULE - Konfiguracja uprawnie≈Ñ sudo] *********************************************************************************
2025-10-13 11:03:12,193 p=76732 u=marek n=ansible | TASK [Gathering Facts] **************************************************************************************************************
2025-10-13 11:03:13,847 p=76732 u=marek n=ansible | ok: [localhost]
2025-10-13 11:03:13,852 p=76732 u=marek n=ansible | TASK [Sprawd≈∫ czy podano nazwƒô u≈ºytkownika] *****************************************************************************************
2025-10-13 11:03:13,872 p=76732 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:03:13,879 p=76732 u=marek n=ansible | TASK [Sprawd≈∫ czy u≈ºytkownik istnieje w systemie] ***********************************************************************************
2025-10-13 11:03:14,070 p=76732 u=marek n=ansible | ok: [localhost]
2025-10-13 11:03:14,076 p=76732 u=marek n=ansible | TASK [Wy≈õwietl informacje o konfiguracji sudoers] ***********************************************************************************
2025-10-13 11:03:14,101 p=76732 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === KONFIGURACJA SUDOERS ===
    U≈ºytkownik: test_user
    Plik sudoers: /etc/sudoers.d/98-test_user
    Szablon komend: sudo_commands
    Priorytet: 98
2025-10-13 11:03:14,115 p=76732 u=marek n=ansible | TASK [Sprawd≈∫ czy katalog sudoers.d istnieje] ***************************************************************************************
2025-10-13 11:03:14,271 p=76732 u=marek n=ansible | [0;31m--- before[0m
[0;31m[0m[0;32m+++ after[0m
[0;32m[0m[0;36m@@ -1,2 +1,2 @@[0m
[0;36m[0m[0;31m-mode: '0755'[0m
[0;31m[0m[0;32m+mode: '0750'[0m
[0;32m[0m path: /etc/sudoers.d


2025-10-13 11:03:14,271 p=76732 u=marek n=ansible | changed: [localhost]
2025-10-13 11:03:14,275 p=76732 u=marek n=ansible | TASK [Wczytaj komendy z pliku szablonu] *********************************************************************************************
2025-10-13 11:03:14,428 p=76732 u=marek n=ansible | ok: [localhost]
2025-10-13 11:03:14,432 p=76732 u=marek n=ansible | TASK [Przetw√≥rz komendy z szablonu] *************************************************************************************************
2025-10-13 11:03:14,449 p=76732 u=marek n=ansible | ok: [localhost]
2025-10-13 11:03:14,454 p=76732 u=marek n=ansible | TASK [Wy≈õwietl komendy do skonfigurowania] ******************************************************************************************
2025-10-13 11:03:14,475 p=76732 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === KOMENDY SUDO DLA TEST_USER ===
    - /usr/bin/systemctl restart nginx
    - /usr/bin/systemctl reload nginx
    - /usr/bin/systemctl status nginx
    - /usr/bin/systemctl restart apache2
    - /usr/bin/systemctl reload apache2
    - /bin/chmod +x /opt/scripts/*
    - /usr/bin/docker ps
    - /usr/bin/docker images
    - /usr/bin/docker logs *
    - /usr/sbin/service * restart
    - /usr/sbin/service * stop
    - /usr/sbin/service * start
    - /usr/bin/tail -f /var/log/*.log
    - /usr/bin/less /var/log/*.log
    - /usr/bin/rsync * *
    - /usr/bin/scp * *
    - /bin/mount
    - /bin/umount
2025-10-13 11:03:14,479 p=76732 u=marek n=ansible | TASK [Utw√≥rz backup istniejƒÖcego pliku sudoers (je≈õli istnieje)] ********************************************************************
2025-10-13 11:03:14,486 p=76732 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:03:14,491 p=76732 u=marek n=ansible | TASK [Wygeneruj plik sudoers dla u≈ºytkownika] ***************************************************************************************
2025-10-13 11:03:14,521 p=76732 u=marek n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: If you are using a module and expect the file to exist on the remote, see the remote_src option
2025-10-13 11:03:14,522 p=76732 u=marek n=ansible | fatal: [localhost]: FAILED! => changed=false 
  msg: |-
    Could not find or access 'sudoers_user.j2'
    Searched in:
            /home/marek/CODE/ansible-automation-linux/playbooks/templates/sudoers_user.j2
            /home/marek/CODE/ansible-automation-linux/playbooks/sudoers_user.j2
            /home/marek/CODE/ansible-automation-linux/playbooks/templates/sudoers_user.j2
            /home/marek/CODE/ansible-automation-linux/playbooks/sudoers_user.j2 on the Ansible Controller.
    If you are using a module and expect the file to exist on the remote, see the remote_src option
2025-10-13 11:03:14,522 p=76732 u=marek n=ansible | PLAY RECAP **************************************************************************************************************************
2025-10-13 11:03:14,522 p=76732 u=marek n=ansible | localhost                  : ok=7    changed=1    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2025-10-13 11:03:57,182 p=77085 u=marek n=ansible | PLAY [SUDOERS MODULE - Konfiguracja uprawnie≈Ñ sudo] *********************************************************************************
2025-10-13 11:03:57,185 p=77085 u=marek n=ansible | TASK [Gathering Facts] **************************************************************************************************************
2025-10-13 11:03:58,841 p=77085 u=marek n=ansible | ok: [localhost]
2025-10-13 11:03:58,845 p=77085 u=marek n=ansible | TASK [Sprawd≈∫ czy podano nazwƒô u≈ºytkownika] *****************************************************************************************
2025-10-13 11:03:58,864 p=77085 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:03:58,869 p=77085 u=marek n=ansible | TASK [Sprawd≈∫ czy u≈ºytkownik istnieje w systemie] ***********************************************************************************
2025-10-13 11:03:59,061 p=77085 u=marek n=ansible | ok: [localhost]
2025-10-13 11:03:59,066 p=77085 u=marek n=ansible | TASK [Wy≈õwietl informacje o konfiguracji sudoers] ***********************************************************************************
2025-10-13 11:03:59,090 p=77085 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === KONFIGURACJA SUDOERS ===
    U≈ºytkownik: test_user
    Plik sudoers: /etc/sudoers.d/98-test_user
    Szablon komend: sudo_commands
    Priorytet: 98
2025-10-13 11:03:59,102 p=77085 u=marek n=ansible | TASK [Sprawd≈∫ czy katalog sudoers.d istnieje] ***************************************************************************************
2025-10-13 11:03:59,259 p=77085 u=marek n=ansible | [0;31m--- before[0m
[0;31m[0m[0;32m+++ after[0m
[0;32m[0m[0;36m@@ -1,2 +1,2 @@[0m
[0;36m[0m[0;31m-mode: '0755'[0m
[0;31m[0m[0;32m+mode: '0750'[0m
[0;32m[0m path: /etc/sudoers.d


2025-10-13 11:03:59,259 p=77085 u=marek n=ansible | changed: [localhost]
2025-10-13 11:03:59,263 p=77085 u=marek n=ansible | TASK [Wczytaj komendy z pliku szablonu] *********************************************************************************************
2025-10-13 11:03:59,413 p=77085 u=marek n=ansible | ok: [localhost]
2025-10-13 11:03:59,418 p=77085 u=marek n=ansible | TASK [Przetw√≥rz komendy z szablonu] *************************************************************************************************
2025-10-13 11:03:59,435 p=77085 u=marek n=ansible | ok: [localhost]
2025-10-13 11:03:59,440 p=77085 u=marek n=ansible | TASK [Wy≈õwietl komendy do skonfigurowania] ******************************************************************************************
2025-10-13 11:03:59,463 p=77085 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === KOMENDY SUDO DLA TEST_USER ===
    - /usr/bin/systemctl restart nginx
    - /usr/bin/systemctl reload nginx
    - /usr/bin/systemctl status nginx
    - /usr/bin/systemctl restart apache2
    - /usr/bin/systemctl reload apache2
    - /bin/chmod +x /opt/scripts/*
    - /usr/bin/docker ps
    - /usr/bin/docker images
    - /usr/bin/docker logs *
    - /usr/sbin/service * restart
    - /usr/sbin/service * stop
    - /usr/sbin/service * start
    - /usr/bin/tail -f /var/log/*.log
    - /usr/bin/less /var/log/*.log
    - /usr/bin/rsync * *
    - /usr/bin/scp * *
    - /bin/mount
    - /bin/umount
2025-10-13 11:03:59,467 p=77085 u=marek n=ansible | TASK [Utw√≥rz backup istniejƒÖcego pliku sudoers (je≈õli istnieje)] ********************************************************************
2025-10-13 11:03:59,474 p=77085 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:03:59,478 p=77085 u=marek n=ansible | TASK [Wygeneruj plik sudoers dla u≈ºytkownika] ***************************************************************************************
2025-10-13 11:03:59,721 p=77085 u=marek n=ansible | [0;31m--- before[0m
[0;31m[0m[0;32m+++ after: /home/marek/.ansible/tmp/ansible-local-77085__l2e5_n/tmprqyvkanv/sudoers_user.j2[0m
[0;32m[0m[0;36m@@ -0,0 +1,25 @@[0m
[0;36m[0m[0;32m+# Sudoers file for user: test_user[0m
[0;32m[0m[0;32m+# Generated by Ansible on 2025-10-13T09:03:57Z[0m
[0;32m[0m[0;32m+# [0m
[0;32m[0m[0;32m+# This file allows test_user to execute specific commands without password[0m
[0;32m[0m[0;32m+#[0m
[0;32m[0m[0;32m+[0m
[0;32m[0m[0;32m+# User privilege specification[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/systemctl restart nginx[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/systemctl reload nginx[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/systemctl status nginx[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/systemctl restart apache2[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/systemctl reload apache2[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /bin/chmod +x /opt/scripts/*[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/docker ps[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/docker images[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/docker logs *[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/sbin/service * restart[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/sbin/service * stop[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/sbin/service * start[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/tail -f /var/log/*.log[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/less /var/log/*.log[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/rsync * *[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/scp * *[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /bin/mount[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /bin/umount[0m
[0;32m[0m

2025-10-13 11:03:59,722 p=77085 u=marek n=ansible | changed: [localhost]
2025-10-13 11:03:59,726 p=77085 u=marek n=ansible | TASK [Sprawd≈∫ sk≈Çadniƒô wszystkich plik√≥w sudoers] ***********************************************************************************
2025-10-13 11:03:59,869 p=77085 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:03:59,873 p=77085 u=marek n=ansible | TASK [Wy≈õwietl zawarto≈õƒá utworzonego pliku] *****************************************************************************************
2025-10-13 11:03:59,985 p=77085 u=marek n=ansible | fatal: [localhost]: FAILED! => changed=false 
  msg: 'file not found: /etc/sudoers.d/98-test_user'
2025-10-13 11:03:59,986 p=77085 u=marek n=ansible | PLAY RECAP **************************************************************************************************************************
2025-10-13 11:03:59,986 p=77085 u=marek n=ansible | localhost                  : ok=8    changed=2    unreachable=0    failed=1    skipped=3    rescued=0    ignored=0   
2025-10-13 11:04:32,813 p=77505 u=marek n=ansible | PLAY [SUDOERS MODULE - Konfiguracja uprawnie≈Ñ sudo] *********************************************************************************
2025-10-13 11:04:32,817 p=77505 u=marek n=ansible | TASK [Gathering Facts] **************************************************************************************************************
2025-10-13 11:04:33,453 p=77505 u=marek n=ansible | ok: [localhost]
2025-10-13 11:04:33,457 p=77505 u=marek n=ansible | TASK [Sprawd≈∫ czy podano nazwƒô u≈ºytkownika] *****************************************************************************************
2025-10-13 11:04:33,476 p=77505 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:04:33,480 p=77505 u=marek n=ansible | TASK [Sprawd≈∫ czy u≈ºytkownik istnieje w systemie] ***********************************************************************************
2025-10-13 11:04:33,637 p=77505 u=marek n=ansible | ok: [localhost]
2025-10-13 11:04:33,641 p=77505 u=marek n=ansible | TASK [Wy≈õwietl informacje o konfiguracji sudoers] ***********************************************************************************
2025-10-13 11:04:33,663 p=77505 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === KONFIGURACJA SUDOERS ===
    U≈ºytkownik: test_user
    Plik sudoers: /etc/sudoers.d/98-test_user
    Szablon komend: sudo_commands
    Priorytet: 98
2025-10-13 11:04:33,676 p=77505 u=marek n=ansible | TASK [Sprawd≈∫ czy katalog sudoers.d istnieje] ***************************************************************************************
2025-10-13 11:04:33,842 p=77505 u=marek n=ansible | [0;31m--- before[0m
[0;31m[0m[0;32m+++ after[0m
[0;32m[0m[0;36m@@ -1,2 +1,2 @@[0m
[0;36m[0m[0;31m-mode: '0755'[0m
[0;31m[0m[0;32m+mode: '0750'[0m
[0;32m[0m path: /etc/sudoers.d


2025-10-13 11:04:33,842 p=77505 u=marek n=ansible | changed: [localhost]
2025-10-13 11:04:33,846 p=77505 u=marek n=ansible | TASK [Wczytaj komendy z pliku szablonu] *********************************************************************************************
2025-10-13 11:04:34,004 p=77505 u=marek n=ansible | ok: [localhost]
2025-10-13 11:04:34,008 p=77505 u=marek n=ansible | TASK [Przetw√≥rz komendy z szablonu] *************************************************************************************************
2025-10-13 11:04:34,027 p=77505 u=marek n=ansible | ok: [localhost]
2025-10-13 11:04:34,031 p=77505 u=marek n=ansible | TASK [Wy≈õwietl komendy do skonfigurowania] ******************************************************************************************
2025-10-13 11:04:34,052 p=77505 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === KOMENDY SUDO DLA TEST_USER ===
    - /usr/bin/systemctl restart nginx
    - /usr/bin/systemctl reload nginx
    - /usr/bin/systemctl status nginx
    - /usr/bin/systemctl restart apache2
    - /usr/bin/systemctl reload apache2
    - /bin/chmod +x /opt/scripts/*
    - /usr/bin/docker ps
    - /usr/bin/docker images
    - /usr/bin/docker logs *
    - /usr/sbin/service * restart
    - /usr/sbin/service * stop
    - /usr/sbin/service * start
    - /usr/bin/tail -f /var/log/*.log
    - /usr/bin/less /var/log/*.log
    - /usr/bin/rsync * *
    - /usr/bin/scp * *
    - /bin/mount
    - /bin/umount
2025-10-13 11:04:34,056 p=77505 u=marek n=ansible | TASK [Utw√≥rz backup istniejƒÖcego pliku sudoers (je≈õli istnieje)] ********************************************************************
2025-10-13 11:04:34,064 p=77505 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:04:34,068 p=77505 u=marek n=ansible | TASK [Wygeneruj plik sudoers dla u≈ºytkownika] ***************************************************************************************
2025-10-13 11:04:34,314 p=77505 u=marek n=ansible | [0;31m--- before[0m
[0;31m[0m[0;32m+++ after: /home/marek/.ansible/tmp/ansible-local-77505q947xhgp/tmpaaxd5oxi/sudoers_user.j2[0m
[0;32m[0m[0;36m@@ -0,0 +1,25 @@[0m
[0;36m[0m[0;32m+# Sudoers file for user: test_user[0m
[0;32m[0m[0;32m+# Generated by Ansible on 2025-10-13T09:04:33Z[0m
[0;32m[0m[0;32m+# [0m
[0;32m[0m[0;32m+# This file allows test_user to execute specific commands without password[0m
[0;32m[0m[0;32m+#[0m
[0;32m[0m[0;32m+[0m
[0;32m[0m[0;32m+# User privilege specification[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/systemctl restart nginx[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/systemctl reload nginx[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/systemctl status nginx[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/systemctl restart apache2[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/systemctl reload apache2[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /bin/chmod +x /opt/scripts/*[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/docker ps[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/docker images[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/docker logs *[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/sbin/service * restart[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/sbin/service * stop[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/sbin/service * start[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/tail -f /var/log/*.log[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/less /var/log/*.log[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/rsync * *[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/scp * *[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /bin/mount[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /bin/umount[0m
[0;32m[0m

2025-10-13 11:04:34,314 p=77505 u=marek n=ansible | changed: [localhost]
2025-10-13 11:04:34,318 p=77505 u=marek n=ansible | TASK [Sprawd≈∫ sk≈Çadniƒô wszystkich plik√≥w sudoers] ***********************************************************************************
2025-10-13 11:04:34,324 p=77505 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:04:34,328 p=77505 u=marek n=ansible | TASK [Wy≈õwietl zawarto≈õƒá utworzonego pliku] *****************************************************************************************
2025-10-13 11:04:34,335 p=77505 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:04:34,340 p=77505 u=marek n=ansible | TASK [Poka≈º zawarto≈õƒá pliku sudoers] ************************************************************************************************
2025-10-13 11:04:34,364 p=77505 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === ZAWARTO≈öƒÜ PLIKU /etc/sudoers.d/98-test_user ===
    Dry-run - plik nie zosta≈Ç utworzony
2025-10-13 11:04:34,369 p=77505 u=marek n=ansible | TASK [Test uprawnie≈Ñ sudo dla u≈ºytkownika] ******************************************************************************************
2025-10-13 11:04:34,522 p=77505 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:04:34,526 p=77505 u=marek n=ansible | TASK [Wy≈õwietl podsumowanie] ********************************************************************************************************
2025-10-13 11:04:34,545 p=77505 u=marek n=ansible | fatal: [localhost]: FAILED! => 
  msg: |-
    The task includes an option with an undefined variable. The error was: 'dict object' has no attribute 'rc'. 'dict object' has no attribute 'rc'
  
    The error appears to be in '/home/marek/CODE/ansible-automation-linux/playbooks/sudoers.yml': line 144, column 7, but may
    be elsewhere in the file depending on the exact syntax problem.
  
    The offending line appears to be:
  
  
        - name: "Wy≈õwietl podsumowanie"
          ^ here
2025-10-13 11:04:34,546 p=77505 u=marek n=ansible | PLAY RECAP **************************************************************************************************************************
2025-10-13 11:04:34,546 p=77505 u=marek n=ansible | localhost                  : ok=9    changed=2    unreachable=0    failed=1    skipped=5    rescued=0    ignored=0   
2025-10-13 11:06:10,008 p=77916 u=marek n=ansible | PLAY [SUDOERS MODULE - Konfiguracja uprawnie≈Ñ sudo] *********************************************************************************
2025-10-13 11:06:10,011 p=77916 u=marek n=ansible | TASK [Gathering Facts] **************************************************************************************************************
2025-10-13 11:06:10,650 p=77916 u=marek n=ansible | ok: [localhost]
2025-10-13 11:06:10,653 p=77916 u=marek n=ansible | TASK [Sprawd≈∫ czy podano nazwƒô u≈ºytkownika] *****************************************************************************************
2025-10-13 11:06:10,673 p=77916 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:06:10,677 p=77916 u=marek n=ansible | TASK [Sprawd≈∫ czy u≈ºytkownik istnieje w systemie] ***********************************************************************************
2025-10-13 11:06:10,831 p=77916 u=marek n=ansible | ok: [localhost]
2025-10-13 11:06:10,835 p=77916 u=marek n=ansible | TASK [Wy≈õwietl informacje o konfiguracji sudoers] ***********************************************************************************
2025-10-13 11:06:10,857 p=77916 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === KONFIGURACJA SUDOERS ===
    U≈ºytkownik: test_user
    Plik sudoers: /etc/sudoers.d/98-test_user
    Szablon komend: sudo_commands
    Priorytet: 98
2025-10-13 11:06:10,866 p=77916 u=marek n=ansible | TASK [Sprawd≈∫ czy katalog sudoers.d istnieje] ***************************************************************************************
2025-10-13 11:06:11,023 p=77916 u=marek n=ansible | [0;31m--- before[0m
[0;31m[0m[0;32m+++ after[0m
[0;32m[0m[0;36m@@ -1,2 +1,2 @@[0m
[0;36m[0m[0;31m-mode: '0755'[0m
[0;31m[0m[0;32m+mode: '0750'[0m
[0;32m[0m path: /etc/sudoers.d


2025-10-13 11:06:11,023 p=77916 u=marek n=ansible | changed: [localhost]
2025-10-13 11:06:11,027 p=77916 u=marek n=ansible | TASK [Wczytaj komendy z pliku szablonu] *********************************************************************************************
2025-10-13 11:06:11,187 p=77916 u=marek n=ansible | ok: [localhost]
2025-10-13 11:06:11,191 p=77916 u=marek n=ansible | TASK [Przetw√≥rz komendy z szablonu] *************************************************************************************************
2025-10-13 11:06:11,210 p=77916 u=marek n=ansible | ok: [localhost]
2025-10-13 11:06:11,216 p=77916 u=marek n=ansible | TASK [Wy≈õwietl komendy do skonfigurowania] ******************************************************************************************
2025-10-13 11:06:11,237 p=77916 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === KOMENDY SUDO DLA TEST_USER ===
    - /usr/bin/systemctl restart nginx
    - /usr/bin/systemctl reload nginx
    - /usr/bin/systemctl status nginx
    - /usr/bin/systemctl restart apache2
    - /usr/bin/systemctl reload apache2
    - /bin/chmod +x /opt/scripts/*
    - /usr/bin/docker ps
    - /usr/bin/docker images
    - /usr/bin/docker logs *
    - /usr/sbin/service * restart
    - /usr/sbin/service * stop
    - /usr/sbin/service * start
    - /usr/bin/tail -f /var/log/*.log
    - /usr/bin/less /var/log/*.log
    - /usr/bin/rsync * *
    - /usr/bin/scp * *
    - /bin/mount
    - /bin/umount
2025-10-13 11:06:11,241 p=77916 u=marek n=ansible | TASK [Utw√≥rz backup istniejƒÖcego pliku sudoers (je≈õli istnieje)] ********************************************************************
2025-10-13 11:06:11,249 p=77916 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:06:11,253 p=77916 u=marek n=ansible | TASK [Wygeneruj plik sudoers dla u≈ºytkownika] ***************************************************************************************
2025-10-13 11:06:11,492 p=77916 u=marek n=ansible | [0;31m--- before[0m
[0;31m[0m[0;32m+++ after: /home/marek/.ansible/tmp/ansible-local-779169x0xtrt4/tmp5aac4e53/sudoers_user.j2[0m
[0;32m[0m[0;36m@@ -0,0 +1,25 @@[0m
[0;36m[0m[0;32m+# Sudoers file for user: test_user[0m
[0;32m[0m[0;32m+# Generated by Ansible on 2025-10-13T09:06:10Z[0m
[0;32m[0m[0;32m+# [0m
[0;32m[0m[0;32m+# This file allows test_user to execute specific commands without password[0m
[0;32m[0m[0;32m+#[0m
[0;32m[0m[0;32m+[0m
[0;32m[0m[0;32m+# User privilege specification[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/systemctl restart nginx[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/systemctl reload nginx[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/systemctl status nginx[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/systemctl restart apache2[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/systemctl reload apache2[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /bin/chmod +x /opt/scripts/*[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/docker ps[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/docker images[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/docker logs *[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/sbin/service * restart[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/sbin/service * stop[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/sbin/service * start[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/tail -f /var/log/*.log[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/less /var/log/*.log[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/rsync * *[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/scp * *[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /bin/mount[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /bin/umount[0m
[0;32m[0m

2025-10-13 11:06:11,492 p=77916 u=marek n=ansible | changed: [localhost]
2025-10-13 11:06:11,497 p=77916 u=marek n=ansible | TASK [Sprawd≈∫ sk≈Çadniƒô wszystkich plik√≥w sudoers] ***********************************************************************************
2025-10-13 11:06:11,504 p=77916 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:06:11,508 p=77916 u=marek n=ansible | TASK [Wy≈õwietl zawarto≈õƒá utworzonego pliku] *****************************************************************************************
2025-10-13 11:06:11,515 p=77916 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:06:11,520 p=77916 u=marek n=ansible | TASK [Poka≈º zawarto≈õƒá pliku sudoers] ************************************************************************************************
2025-10-13 11:06:11,543 p=77916 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === ZAWARTO≈öƒÜ PLIKU /etc/sudoers.d/98-test_user ===
    Dry-run - plik nie zosta≈Ç utworzony
2025-10-13 11:06:11,549 p=77916 u=marek n=ansible | TASK [Test uprawnie≈Ñ sudo dla u≈ºytkownika] ******************************************************************************************
2025-10-13 11:06:11,703 p=77916 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:06:11,707 p=77916 u=marek n=ansible | TASK [Wy≈õwietl podsumowanie] ********************************************************************************************************
2025-10-13 11:06:11,729 p=77916 u=marek n=ansible | fatal: [localhost]: FAILED! => 
  msg: |-
    The task includes an option with an undefined variable. The error was: 'dict object' has no attribute 'rc'. 'dict object' has no attribute 'rc'
  
    The error appears to be in '/home/marek/CODE/ansible-automation-linux/playbooks/sudoers.yml': line 144, column 7, but may
    be elsewhere in the file depending on the exact syntax problem.
  
    The offending line appears to be:
  
  
        - name: "Wy≈õwietl podsumowanie"
          ^ here
2025-10-13 11:06:11,729 p=77916 u=marek n=ansible | PLAY RECAP **************************************************************************************************************************
2025-10-13 11:06:11,729 p=77916 u=marek n=ansible | localhost                  : ok=9    changed=2    unreachable=0    failed=1    skipped=5    rescued=0    ignored=0   
2025-10-13 11:06:31,834 p=78280 u=marek n=ansible | PLAY [SUDOERS MODULE - Konfiguracja uprawnie≈Ñ sudo] *********************************************************************************
2025-10-13 11:06:31,838 p=78280 u=marek n=ansible | TASK [Gathering Facts] **************************************************************************************************************
2025-10-13 11:06:33,504 p=78280 u=marek n=ansible | ok: [localhost]
2025-10-13 11:06:33,508 p=78280 u=marek n=ansible | TASK [Sprawd≈∫ czy podano nazwƒô u≈ºytkownika] *****************************************************************************************
2025-10-13 11:06:33,529 p=78280 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:06:33,536 p=78280 u=marek n=ansible | TASK [Sprawd≈∫ czy u≈ºytkownik istnieje w systemie] ***********************************************************************************
2025-10-13 11:06:33,727 p=78280 u=marek n=ansible | ok: [localhost]
2025-10-13 11:06:33,732 p=78280 u=marek n=ansible | TASK [Wy≈õwietl informacje o konfiguracji sudoers] ***********************************************************************************
2025-10-13 11:06:33,755 p=78280 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === KONFIGURACJA SUDOERS ===
    U≈ºytkownik: test_user
    Plik sudoers: /etc/sudoers.d/98-test_user
    Szablon komend: sudo_commands
    Priorytet: 98
2025-10-13 11:06:33,766 p=78280 u=marek n=ansible | TASK [Sprawd≈∫ czy katalog sudoers.d istnieje] ***************************************************************************************
2025-10-13 11:06:33,919 p=78280 u=marek n=ansible | [0;31m--- before[0m
[0;31m[0m[0;32m+++ after[0m
[0;32m[0m[0;36m@@ -1,2 +1,2 @@[0m
[0;36m[0m[0;31m-mode: '0755'[0m
[0;31m[0m[0;32m+mode: '0750'[0m
[0;32m[0m path: /etc/sudoers.d


2025-10-13 11:06:33,920 p=78280 u=marek n=ansible | changed: [localhost]
2025-10-13 11:06:33,924 p=78280 u=marek n=ansible | TASK [Wczytaj komendy z pliku szablonu] *********************************************************************************************
2025-10-13 11:06:34,081 p=78280 u=marek n=ansible | ok: [localhost]
2025-10-13 11:06:34,086 p=78280 u=marek n=ansible | TASK [Przetw√≥rz komendy z szablonu] *************************************************************************************************
2025-10-13 11:06:34,105 p=78280 u=marek n=ansible | ok: [localhost]
2025-10-13 11:06:34,109 p=78280 u=marek n=ansible | TASK [Wy≈õwietl komendy do skonfigurowania] ******************************************************************************************
2025-10-13 11:06:34,130 p=78280 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === KOMENDY SUDO DLA TEST_USER ===
    - /usr/bin/systemctl restart nginx
    - /usr/bin/systemctl reload nginx
    - /usr/bin/systemctl status nginx
    - /usr/bin/systemctl restart apache2
    - /usr/bin/systemctl reload apache2
    - /bin/chmod +x /opt/scripts/*
    - /usr/bin/docker ps
    - /usr/bin/docker images
    - /usr/bin/docker logs *
    - /usr/sbin/service * restart
    - /usr/sbin/service * stop
    - /usr/sbin/service * start
    - /usr/bin/tail -f /var/log/*.log
    - /usr/bin/less /var/log/*.log
    - /usr/bin/rsync * *
    - /usr/bin/scp * *
    - /bin/mount
    - /bin/umount
2025-10-13 11:06:34,135 p=78280 u=marek n=ansible | TASK [Utw√≥rz backup istniejƒÖcego pliku sudoers (je≈õli istnieje)] ********************************************************************
2025-10-13 11:06:34,141 p=78280 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:06:34,147 p=78280 u=marek n=ansible | TASK [Wygeneruj plik sudoers dla u≈ºytkownika] ***************************************************************************************
2025-10-13 11:06:34,389 p=78280 u=marek n=ansible | [0;31m--- before[0m
[0;31m[0m[0;32m+++ after: /home/marek/.ansible/tmp/ansible-local-78280z8cj17yt/tmpo3n09gvn/sudoers_user.j2[0m
[0;32m[0m[0;36m@@ -0,0 +1,25 @@[0m
[0;36m[0m[0;32m+# Sudoers file for user: test_user[0m
[0;32m[0m[0;32m+# Generated by Ansible on 2025-10-13T09:06:32Z[0m
[0;32m[0m[0;32m+# [0m
[0;32m[0m[0;32m+# This file allows test_user to execute specific commands without password[0m
[0;32m[0m[0;32m+#[0m
[0;32m[0m[0;32m+[0m
[0;32m[0m[0;32m+# User privilege specification[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/systemctl restart nginx[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/systemctl reload nginx[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/systemctl status nginx[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/systemctl restart apache2[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/systemctl reload apache2[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /bin/chmod +x /opt/scripts/*[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/docker ps[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/docker images[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/docker logs *[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/sbin/service * restart[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/sbin/service * stop[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/sbin/service * start[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/tail -f /var/log/*.log[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/less /var/log/*.log[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/rsync * *[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /usr/bin/scp * *[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /bin/mount[0m
[0;32m[0m[0;32m+test_user ALL=(ALL) NOPASSWD: /bin/umount[0m
[0;32m[0m

2025-10-13 11:06:34,389 p=78280 u=marek n=ansible | changed: [localhost]
2025-10-13 11:06:34,393 p=78280 u=marek n=ansible | TASK [Sprawd≈∫ sk≈Çadniƒô wszystkich plik√≥w sudoers] ***********************************************************************************
2025-10-13 11:06:34,399 p=78280 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:06:34,403 p=78280 u=marek n=ansible | TASK [Wy≈õwietl zawarto≈õƒá utworzonego pliku] *****************************************************************************************
2025-10-13 11:06:34,411 p=78280 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:06:34,417 p=78280 u=marek n=ansible | TASK [Poka≈º zawarto≈õƒá pliku sudoers] ************************************************************************************************
2025-10-13 11:06:34,436 p=78280 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === ZAWARTO≈öƒÜ PLIKU /etc/sudoers.d/98-test_user ===
    Dry-run - plik nie zosta≈Ç utworzony
2025-10-13 11:06:34,441 p=78280 u=marek n=ansible | TASK [Test uprawnie≈Ñ sudo dla u≈ºytkownika] ******************************************************************************************
2025-10-13 11:06:34,598 p=78280 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:06:34,603 p=78280 u=marek n=ansible | TASK [Wy≈õwietl podsumowanie] ********************************************************************************************************
2025-10-13 11:06:34,627 p=78280 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === PODSUMOWANIE KONFIGURACJI SUDOERS ===
    U≈ºytkownik: test_user
    Plik sudoers: /etc/sudoers.d/98-test_user
    Status: Dry-run - zmiany nie zosta≈Çy zastosowane
    Walidacja: Pominiƒôta
  
    === SPRAWDZENIE UPRAWNIE≈É ===
  
  
    === TESTOWANIE ===
    Aby przetestowaƒá uprawnienia, zaloguj siƒô jako test_user:
    sudo su - test_user
  
    Nastƒôpnie sprawd≈∫ dostƒôpne komendy:
    sudo -l
  
    === ZARZƒÑDZANIE ===
    Plik konfiguracyjny: /etc/sudoers.d/98-test_user
    Edytuj szablon komend: /home/marek/CODE/ansible-automation-linux/playbooks/../templates/sudo_commands
    Usu≈Ñ uprawnienia: sudo rm /etc/sudoers.d/98-test_user
2025-10-13 11:06:34,640 p=78280 u=marek n=ansible | PLAY RECAP **************************************************************************************************************************
2025-10-13 11:06:34,640 p=78280 u=marek n=ansible | localhost                  : ok=10   changed=2    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2025-10-13 11:06:55,349 p=78648 u=marek n=ansible | PLAY [SUDOERS MODULE - Konfiguracja uprawnie≈Ñ sudo] ************************************************************************************************************************************
2025-10-13 11:06:55,352 p=78648 u=marek n=ansible | TASK [Gathering Facts] *****************************************************************************************************************************************************************
2025-10-13 11:06:56,191 p=78648 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 11:06:56,194 p=78648 u=marek n=ansible | TASK [Sprawd≈∫ czy podano nazwƒô u≈ºytkownika] ********************************************************************************************************************************************
2025-10-13 11:06:56,210 p=78648 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-13 11:06:56,213 p=78648 u=marek n=ansible | TASK [Sprawd≈∫ czy u≈ºytkownik istnieje w systemie] **************************************************************************************************************************************
2025-10-13 11:06:56,374 p=78648 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 11:06:56,376 p=78648 u=marek n=ansible | TASK [Wy≈õwietl informacje o konfiguracji sudoers] **************************************************************************************************************************************
2025-10-13 11:06:56,397 p=78648 u=marek n=ansible | ok: [192.168.1.54] => 
  msg: |-
    === KONFIGURACJA SUDOERS ===
    U≈ºytkownik: webmaster
    Plik sudoers: /etc/sudoers.d/98-webmaster
    Szablon komend: sudo_commands
    Priorytet: 98
2025-10-13 11:06:56,402 p=78648 u=marek n=ansible | TASK [Sprawd≈∫ czy katalog sudoers.d istnieje] ******************************************************************************************************************************************
2025-10-13 11:06:56,564 p=78648 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 11:06:56,566 p=78648 u=marek n=ansible | TASK [Wczytaj komendy z pliku szablonu] ************************************************************************************************************************************************
2025-10-13 11:06:56,716 p=78648 u=marek n=ansible | ok: [192.168.1.54 -> localhost]
2025-10-13 11:06:56,719 p=78648 u=marek n=ansible | TASK [Przetw√≥rz komendy z szablonu] ****************************************************************************************************************************************************
2025-10-13 11:06:56,735 p=78648 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 11:06:56,737 p=78648 u=marek n=ansible | TASK [Wy≈õwietl komendy do skonfigurowania] *********************************************************************************************************************************************
2025-10-13 11:06:56,756 p=78648 u=marek n=ansible | ok: [192.168.1.54] => 
  msg: |-
    === KOMENDY SUDO DLA WEBMASTER ===
    - /usr/bin/systemctl restart nginx
    - /usr/bin/systemctl reload nginx
    - /usr/bin/systemctl status nginx
    - /usr/bin/systemctl restart apache2
    - /usr/bin/systemctl reload apache2
    - /bin/chmod +x /opt/scripts/*
    - /usr/bin/docker ps
    - /usr/bin/docker images
    - /usr/bin/docker logs *
    - /usr/sbin/service * restart
    - /usr/sbin/service * stop
    - /usr/sbin/service * start
    - /usr/bin/tail -f /var/log/*.log
    - /usr/bin/less /var/log/*.log
    - /usr/bin/rsync * *
    - /usr/bin/scp * *
    - /bin/mount
    - /bin/umount
2025-10-13 11:06:56,758 p=78648 u=marek n=ansible | TASK [Utw√≥rz backup istniejƒÖcego pliku sudoers (je≈õli istnieje)] ***********************************************************************************************************************
2025-10-13 11:06:56,987 p=78648 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 11:06:56,990 p=78648 u=marek n=ansible | TASK [Wygeneruj plik sudoers dla u≈ºytkownika] ******************************************************************************************************************************************
2025-10-13 11:06:57,365 p=78648 u=marek n=ansible | changed: [192.168.1.54]
2025-10-13 11:06:57,367 p=78648 u=marek n=ansible | TASK [Sprawd≈∫ sk≈Çadniƒô wszystkich plik√≥w sudoers] **************************************************************************************************************************************
2025-10-13 11:06:57,526 p=78648 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 11:06:57,528 p=78648 u=marek n=ansible | TASK [Wy≈õwietl zawarto≈õƒá utworzonego pliku] ********************************************************************************************************************************************
2025-10-13 11:06:57,651 p=78648 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 11:06:57,653 p=78648 u=marek n=ansible | TASK [Poka≈º zawarto≈õƒá pliku sudoers] ***************************************************************************************************************************************************
2025-10-13 11:06:57,672 p=78648 u=marek n=ansible | ok: [192.168.1.54] => 
  msg: |-
    === ZAWARTO≈öƒÜ PLIKU /etc/sudoers.d/98-webmaster ===
    # Sudoers file for user: webmaster
    # Generated by Ansible on 2025-10-11T01:17:41Z
    #
    # This file allows webmaster to execute specific commands without password
    #
  
    # User privilege specification
    webmaster ALL=(ALL) NOPASSWD: /usr/bin/systemctl restart nginx
    webmaster ALL=(ALL) NOPASSWD: /usr/bin/systemctl reload nginx
    webmaster ALL=(ALL) NOPASSWD: /usr/bin/systemctl status nginx
    webmaster ALL=(ALL) NOPASSWD: /usr/bin/systemctl restart apache2
    webmaster ALL=(ALL) NOPASSWD: /usr/bin/systemctl reload apache2
    webmaster ALL=(ALL) NOPASSWD: /bin/chmod +x /opt/scripts/*
    webmaster ALL=(ALL) NOPASSWD: /usr/bin/docker ps
    webmaster ALL=(ALL) NOPASSWD: /usr/bin/docker images
    webmaster ALL=(ALL) NOPASSWD: /usr/bin/docker logs *
    webmaster ALL=(ALL) NOPASSWD: /usr/sbin/service * restart
    webmaster ALL=(ALL) NOPASSWD: /usr/sbin/service * stop
    webmaster ALL=(ALL) NOPASSWD: /usr/sbin/service * start
    webmaster ALL=(ALL) NOPASSWD: /usr/bin/tail -f /var/log/*.log
    webmaster ALL=(ALL) NOPASSWD: /usr/bin/less /var/log/*.log
    webmaster ALL=(ALL) NOPASSWD: /usr/bin/rsync * *
    webmaster ALL=(ALL) NOPASSWD: /usr/bin/scp * *
    webmaster ALL=(ALL) NOPASSWD: /bin/mount
    webmaster ALL=(ALL) NOPASSWD: /bin/umount
2025-10-13 11:06:57,675 p=78648 u=marek n=ansible | TASK [Test uprawnie≈Ñ sudo dla u≈ºytkownika] *********************************************************************************************************************************************
2025-10-13 11:06:57,810 p=78648 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 11:06:57,812 p=78648 u=marek n=ansible | TASK [Wy≈õwietl podsumowanie] ***********************************************************************************************************************************************************
2025-10-13 11:06:57,835 p=78648 u=marek n=ansible | ok: [192.168.1.54] => 
  msg: |-
    === PODSUMOWANIE KONFIGURACJI SUDOERS ===
    U≈ºytkownik: webmaster
    Plik sudoers: /etc/sudoers.d/98-webmaster
    Status: Utworzony
    Walidacja: Pomy≈õlna
  
    === SPRAWDZENIE UPRAWNIE≈É ===
    PasujƒÖce wpisy Defaults dla webmaster na rhel:
    U≈ºytkownik webmaster mo≈ºe uruchamiaƒá na rhel nastƒôpujƒÖce polecenia:
        (ALL) NOPASSWD: /usr/bin/systemctl restart nginx
        (ALL) NOPASSWD: /usr/bin/systemctl reload nginx
        (ALL) NOPASSWD: /usr/bin/systemctl status nginx
        (ALL) NOPASSWD: /usr/bin/systemctl restart apache2
        (ALL) NOPASSWD: /usr/bin/systemctl reload apache2
        (ALL) NOPASSWD: /bin/chmod +x /opt/scripts/*
        (ALL) NOPASSWD: /usr/bin/docker ps
        (ALL) NOPASSWD: /usr/bin/docker images
        (ALL) NOPASSWD: /usr/bin/docker logs *
        (ALL) NOPASSWD: /usr/sbin/service * restart
        (ALL) NOPASSWD: /usr/sbin/service * stop
        (ALL) NOPASSWD: /usr/sbin/service * start
        (ALL) NOPASSWD: /usr/bin/tail -f /var/log/*.log
        (ALL) NOPASSWD: /usr/bin/less /var/log/*.log
        (ALL) NOPASSWD: /usr/bin/rsync * *
        (ALL) NOPASSWD: /usr/bin/scp * *
        (ALL) NOPASSWD: /bin/mount
        (ALL) NOPASSWD: /bin/umount
  
    === TESTOWANIE ===
    Aby przetestowaƒá uprawnienia, zaloguj siƒô jako webmaster:
    sudo su - webmaster
  
    Nastƒôpnie sprawd≈∫ dostƒôpne komendy:
    sudo -l
  
    === ZARZƒÑDZANIE ===
    Plik konfiguracyjny: /etc/sudoers.d/98-webmaster
    Edytuj szablon komend: /home/marek/CODE/ansible-automation-linux/playbooks/../templates/sudo_commands
    Usu≈Ñ uprawnienia: sudo rm /etc/sudoers.d/98-webmaster
2025-10-13 11:06:57,841 p=78648 u=marek n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************
2025-10-13 11:06:57,841 p=78648 u=marek n=ansible | 192.168.1.54               : ok=14   changed=1    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2025-10-13 11:08:29,857 p=78854 u=marek n=ansible | PLAY [SUDOERS MODULE - Konfiguracja uprawnie≈Ñ sudo] ************************************************************************************************************************************
2025-10-13 11:08:29,860 p=78854 u=marek n=ansible | TASK [Gathering Facts] *****************************************************************************************************************************************************************
2025-10-13 11:08:30,740 p=78854 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 11:08:30,742 p=78854 u=marek n=ansible | TASK [Sprawd≈∫ czy podano nazwƒô u≈ºytkownika] ********************************************************************************************************************************************
2025-10-13 11:08:30,758 p=78854 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-13 11:08:30,760 p=78854 u=marek n=ansible | TASK [Sprawd≈∫ czy u≈ºytkownik istnieje w systemie] **************************************************************************************************************************************
2025-10-13 11:08:30,926 p=78854 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 11:08:30,929 p=78854 u=marek n=ansible | TASK [Wy≈õwietl informacje o konfiguracji sudoers] **************************************************************************************************************************************
2025-10-13 11:08:30,948 p=78854 u=marek n=ansible | ok: [192.168.1.54] => 
  msg: |-
    === KONFIGURACJA SUDOERS ===
    U≈ºytkownik: webmaster
    Plik sudoers: /etc/sudoers.d/98-webmaster
    Szablon komend: sudo_commands
    Priorytet: 98
2025-10-13 11:08:30,953 p=78854 u=marek n=ansible | TASK [Sprawd≈∫ czy katalog sudoers.d istnieje] ******************************************************************************************************************************************
2025-10-13 11:08:31,122 p=78854 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 11:08:31,124 p=78854 u=marek n=ansible | TASK [Wczytaj komendy z pliku szablonu] ************************************************************************************************************************************************
2025-10-13 11:08:31,272 p=78854 u=marek n=ansible | ok: [192.168.1.54 -> localhost]
2025-10-13 11:08:31,274 p=78854 u=marek n=ansible | TASK [Przetw√≥rz komendy z szablonu] ****************************************************************************************************************************************************
2025-10-13 11:08:31,290 p=78854 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 11:08:31,293 p=78854 u=marek n=ansible | TASK [Wy≈õwietl komendy do skonfigurowania] *********************************************************************************************************************************************
2025-10-13 11:08:31,312 p=78854 u=marek n=ansible | ok: [192.168.1.54] => 
  msg: |-
    === KOMENDY SUDO DLA WEBMASTER ===
    - /usr/bin/systemctl restart nginx
    - /usr/bin/systemctl reload nginx
    - /usr/bin/systemctl status nginx
    - /usr/bin/systemctl restart apache2
    - /usr/bin/systemctl reload apache2
    - /bin/chmod +x /opt/scripts/*
    - /usr/bin/docker ps
    - /usr/bin/docker images
    - /usr/bin/docker logs *
    - /usr/sbin/service * restart
    - /usr/sbin/service * stop
    - /usr/sbin/service * start
    - /usr/bin/tail -f /var/log/*.log
    - /usr/bin/less /var/log/*.log
    - /usr/bin/rsync * *
    - /usr/bin/scp * *
    - /bin/mount
    - /bin/umount
    - /usr/bin/tar czf * *
    - /usr/bin/tar xzf * *
2025-10-13 11:08:31,315 p=78854 u=marek n=ansible | TASK [Utw√≥rz backup istniejƒÖcego pliku sudoers (je≈õli istnieje)] ***********************************************************************************************************************
2025-10-13 11:08:31,548 p=78854 u=marek n=ansible | changed: [192.168.1.54]
2025-10-13 11:08:31,551 p=78854 u=marek n=ansible | TASK [Wygeneruj plik sudoers dla u≈ºytkownika] ******************************************************************************************************************************************
2025-10-13 11:08:31,941 p=78854 u=marek n=ansible | changed: [192.168.1.54]
2025-10-13 11:08:31,944 p=78854 u=marek n=ansible | TASK [Sprawd≈∫ sk≈Çadniƒô wszystkich plik√≥w sudoers] **************************************************************************************************************************************
2025-10-13 11:08:32,104 p=78854 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 11:08:32,106 p=78854 u=marek n=ansible | TASK [Wy≈õwietl zawarto≈õƒá utworzonego pliku] ********************************************************************************************************************************************
2025-10-13 11:08:32,229 p=78854 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 11:08:32,231 p=78854 u=marek n=ansible | TASK [Poka≈º zawarto≈õƒá pliku sudoers] ***************************************************************************************************************************************************
2025-10-13 11:08:32,250 p=78854 u=marek n=ansible | ok: [192.168.1.54] => 
  msg: |-
    === ZAWARTO≈öƒÜ PLIKU /etc/sudoers.d/98-webmaster ===
    # Sudoers file for user: webmaster
    # Generated by Ansible on 2025-10-11T01:19:24Z
    #
    # This file allows webmaster to execute specific commands without password
    #
  
    # User privilege specification
    webmaster ALL=(ALL) NOPASSWD: /usr/bin/systemctl restart nginx
    webmaster ALL=(ALL) NOPASSWD: /usr/bin/systemctl reload nginx
    webmaster ALL=(ALL) NOPASSWD: /usr/bin/systemctl status nginx
    webmaster ALL=(ALL) NOPASSWD: /usr/bin/systemctl restart apache2
    webmaster ALL=(ALL) NOPASSWD: /usr/bin/systemctl reload apache2
    webmaster ALL=(ALL) NOPASSWD: /bin/chmod +x /opt/scripts/*
    webmaster ALL=(ALL) NOPASSWD: /usr/bin/docker ps
    webmaster ALL=(ALL) NOPASSWD: /usr/bin/docker images
    webmaster ALL=(ALL) NOPASSWD: /usr/bin/docker logs *
    webmaster ALL=(ALL) NOPASSWD: /usr/sbin/service * restart
    webmaster ALL=(ALL) NOPASSWD: /usr/sbin/service * stop
    webmaster ALL=(ALL) NOPASSWD: /usr/sbin/service * start
    webmaster ALL=(ALL) NOPASSWD: /usr/bin/tail -f /var/log/*.log
    webmaster ALL=(ALL) NOPASSWD: /usr/bin/less /var/log/*.log
    webmaster ALL=(ALL) NOPASSWD: /usr/bin/rsync * *
    webmaster ALL=(ALL) NOPASSWD: /usr/bin/scp * *
    webmaster ALL=(ALL) NOPASSWD: /bin/mount
    webmaster ALL=(ALL) NOPASSWD: /bin/umount
    webmaster ALL=(ALL) NOPASSWD: /usr/bin/tar czf * *
    webmaster ALL=(ALL) NOPASSWD: /usr/bin/tar xzf * *
2025-10-13 11:08:32,253 p=78854 u=marek n=ansible | TASK [Test uprawnie≈Ñ sudo dla u≈ºytkownika] *********************************************************************************************************************************************
2025-10-13 11:08:32,387 p=78854 u=marek n=ansible | ok: [192.168.1.54]
2025-10-13 11:08:32,390 p=78854 u=marek n=ansible | TASK [Wy≈õwietl podsumowanie] ***********************************************************************************************************************************************************
2025-10-13 11:08:32,410 p=78854 u=marek n=ansible | ok: [192.168.1.54] => 
  msg: |-
    === PODSUMOWANIE KONFIGURACJI SUDOERS ===
    U≈ºytkownik: webmaster
    Plik sudoers: /etc/sudoers.d/98-webmaster
    Status: Utworzony
    Walidacja: Pomy≈õlna
  
    === SPRAWDZENIE UPRAWNIE≈É ===
    PasujƒÖce wpisy Defaults dla webmaster na rhel:
    U≈ºytkownik webmaster mo≈ºe uruchamiaƒá na rhel nastƒôpujƒÖce polecenia:
        (ALL) NOPASSWD: /usr/bin/systemctl restart nginx
        (ALL) NOPASSWD: /usr/bin/systemctl reload nginx
        (ALL) NOPASSWD: /usr/bin/systemctl status nginx
        (ALL) NOPASSWD: /usr/bin/systemctl restart apache2
        (ALL) NOPASSWD: /usr/bin/systemctl reload apache2
        (ALL) NOPASSWD: /bin/chmod +x /opt/scripts/*
        (ALL) NOPASSWD: /usr/bin/docker ps
        (ALL) NOPASSWD: /usr/bin/docker images
        (ALL) NOPASSWD: /usr/bin/docker logs *
        (ALL) NOPASSWD: /usr/sbin/service * restart
        (ALL) NOPASSWD: /usr/sbin/service * stop
        (ALL) NOPASSWD: /usr/sbin/service * start
        (ALL) NOPASSWD: /usr/bin/tail -f /var/log/*.log
        (ALL) NOPASSWD: /usr/bin/less /var/log/*.log
        (ALL) NOPASSWD: /usr/bin/rsync * *
        (ALL) NOPASSWD: /usr/bin/scp * *
        (ALL) NOPASSWD: /bin/mount
        (ALL) NOPASSWD: /bin/umount
        (ALL) NOPASSWD: /usr/bin/tar czf * *
        (ALL) NOPASSWD: /usr/bin/tar xzf * *
  
    === TESTOWANIE ===
    Aby przetestowaƒá uprawnienia, zaloguj siƒô jako webmaster:
    sudo su - webmaster
  
    Nastƒôpnie sprawd≈∫ dostƒôpne komendy:
    sudo -l
  
    === ZARZƒÑDZANIE ===
    Plik konfiguracyjny: /etc/sudoers.d/98-webmaster
    Edytuj szablon komend: /home/marek/CODE/ansible-automation-linux/playbooks/../templates/sudo_commands
    Usu≈Ñ uprawnienia: sudo rm /etc/sudoers.d/98-webmaster
2025-10-13 11:08:32,417 p=78854 u=marek n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************
2025-10-13 11:08:32,417 p=78854 u=marek n=ansible | 192.168.1.54               : ok=14   changed=2    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2025-10-13 11:23:34,023 p=79639 u=marek n=ansible | [WARNING]: Found variable using reserved name: name

2025-10-13 11:23:34,024 p=79639 u=marek n=ansible | PLAY [INSTALL MODULE - Instalacja pakiet√≥w] *****************************************************************************************
2025-10-13 11:23:34,027 p=79639 u=marek n=ansible | TASK [Gathering Facts] **************************************************************************************************************
2025-10-13 11:23:34,663 p=79639 u=marek n=ansible | ok: [localhost]
2025-10-13 11:23:34,667 p=79639 u=marek n=ansible | TASK [Sprawd≈∫ czy podano nazwƒô pakietu] *********************************************************************************************
2025-10-13 11:23:34,684 p=79639 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:23:34,689 p=79639 u=marek n=ansible | TASK [Wy≈õwietl informacje o instalacji] *********************************************************************************************
2025-10-13 11:23:34,712 p=79639 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === INSTALACJA PAKIET√ìW ===
    Pakiety: htop
    Stan: present
    Aktualizacja cache: True
    Rekomendacje: True
    System: Debian
    Dystrybucja: Ubuntu 24.04
2025-10-13 11:23:34,722 p=79639 u=marek n=ansible | TASK [Sprawd≈∫ system operacyjny] ****************************************************************************************************
2025-10-13 11:23:34,729 p=79639 u=marek n=ansible | ok: [localhost] => 
  msg: 'Wykryto system: Debian'
2025-10-13 11:23:34,733 p=79639 u=marek n=ansible | TASK [Aktualizuj cache apt (Debian/Ubuntu)] *****************************************************************************************
2025-10-13 11:23:35,238 p=79639 u=marek n=ansible | changed: [localhost]
2025-10-13 11:23:35,242 p=79639 u=marek n=ansible | TASK [Zainstaluj pakiety przez apt (Debian/Ubuntu)] *********************************************************************************
2025-10-13 11:23:36,044 p=79639 u=marek n=ansible | Suggested packages:
  lm-sensors
The following NEW packages will be installed:
  htop
0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
2025-10-13 11:23:36,044 p=79639 u=marek n=ansible | changed: [localhost]
2025-10-13 11:23:36,048 p=79639 u=marek n=ansible | TASK [Zainstaluj pakiety przez yum/dnf (RHEL/CentOS/Fedora)] ************************************************************************
2025-10-13 11:23:36,055 p=79639 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:23:36,060 p=79639 u=marek n=ansible | TASK [Zainstaluj pakiety przez pacman (Arch Linux)] *********************************************************************************
2025-10-13 11:23:36,066 p=79639 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:23:36,072 p=79639 u=marek n=ansible | TASK [Zainstaluj pakiety przez zypper (openSUSE)] ***********************************************************************************
2025-10-13 11:23:36,079 p=79639 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:23:36,083 p=79639 u=marek n=ansible | TASK [Zbierz wyniki instalacji] *****************************************************************************************************
2025-10-13 11:23:36,095 p=79639 u=marek n=ansible | ok: [localhost]
2025-10-13 11:23:36,099 p=79639 u=marek n=ansible | TASK [Sprawd≈∫ czy pakiety zosta≈Çy zainstalowane] ************************************************************************************
2025-10-13 11:23:38,298 p=79639 u=marek n=ansible | ok: [localhost]
2025-10-13 11:23:38,319 p=79639 u=marek n=ansible | TASK [Wy≈õwietl status instalacji] ***************************************************************************************************
2025-10-13 11:23:38,349 p=79639 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === STATUS INSTALACJI ===
    ‚ùå htop: Nie znaleziono lub b≈ÇƒÖd instalacji
  
    === SZCZEG√ì≈ÅY ===
    Zmieniono: True
    Mened≈ºer pakiet√≥w: apt
2025-10-13 11:23:38,374 p=79639 u=marek n=ansible | TASK [Wyczy≈õƒá cache pakiet√≥w (je≈õli w≈ÇƒÖczone)] **************************************************************************************
2025-10-13 11:23:38,384 p=79639 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:23:38,413 p=79639 u=marek n=ansible | TASK [Wy≈õwietl podsumowanie] ********************************************************************************************************
2025-10-13 11:23:38,432 p=79639 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === PODSUMOWANIE INSTALACJI ===
    System: Ubuntu 24.04
    Pakiety: htop
    Status: Zainstalowano pomy≈õlnie
    Mened≈ºer: apt
  
    === POLECENIA SPRAWDZAJƒÑCE ===
    Sprawd≈∫ htop: which htop || dpkg -l | grep htop
  
    === PRZYK≈ÅADY U≈ªYCIA ===
    Instalacja z aktualizacjƒÖ: ./run-automation.sh install -e "name=htop update=true"
    Wiele pakiet√≥w: ./run-automation.sh install -e "name=vim,git,curl"
    Najnowsza wersja: ./run-automation.sh install -e "name=nginx state=latest"
    Z czyszczeniem: ./run-automation.sh install -e "name=docker.io cleanup=true"
2025-10-13 11:23:38,540 p=79639 u=marek n=ansible | PLAY RECAP **************************************************************************************************************************
2025-10-13 11:23:38,540 p=79639 u=marek n=ansible | localhost                  : ok=9    changed=2    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2025-10-13 11:24:45,398 p=80118 u=marek n=ansible | PLAY [INSTALL MODULE - Instalacja pakiet√≥w] *****************************************************************************************
2025-10-13 11:24:45,402 p=80118 u=marek n=ansible | TASK [Gathering Facts] **************************************************************************************************************
2025-10-13 11:24:47,052 p=80118 u=marek n=ansible | ok: [localhost]
2025-10-13 11:24:47,057 p=80118 u=marek n=ansible | TASK [Sprawd≈∫ czy podano nazwƒô pakietu] *********************************************************************************************
2025-10-13 11:24:47,079 p=80118 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:24:47,084 p=80118 u=marek n=ansible | TASK [Wy≈õwietl informacje o instalacji] *********************************************************************************************
2025-10-13 11:24:47,110 p=80118 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === INSTALACJA PAKIET√ìW ===
    Pakiety: curl
    Stan: present
    Aktualizacja cache: True
    Rekomendacje: True
    System: Debian
    Dystrybucja: Ubuntu 24.04
2025-10-13 11:24:47,122 p=80118 u=marek n=ansible | TASK [Sprawd≈∫ system operacyjny] ****************************************************************************************************
2025-10-13 11:24:47,132 p=80118 u=marek n=ansible | ok: [localhost] => 
  msg: 'Wykryto system: Debian'
2025-10-13 11:24:47,138 p=80118 u=marek n=ansible | TASK [Aktualizuj cache apt (Debian/Ubuntu)] *****************************************************************************************
2025-10-13 11:24:47,705 p=80118 u=marek n=ansible | changed: [localhost]
2025-10-13 11:24:47,709 p=80118 u=marek n=ansible | TASK [Zainstaluj pakiety przez apt (Debian/Ubuntu)] *********************************************************************************
2025-10-13 11:24:48,529 p=80118 u=marek n=ansible | The following NEW packages will be installed:
  curl
0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
2025-10-13 11:24:48,529 p=80118 u=marek n=ansible | changed: [localhost]
2025-10-13 11:24:48,533 p=80118 u=marek n=ansible | TASK [Zainstaluj pakiety przez yum/dnf (RHEL/CentOS/Fedora)] ************************************************************************
2025-10-13 11:24:48,540 p=80118 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:24:48,544 p=80118 u=marek n=ansible | TASK [Zainstaluj pakiety przez pacman (Arch Linux)] *********************************************************************************
2025-10-13 11:24:48,551 p=80118 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:24:48,556 p=80118 u=marek n=ansible | TASK [Zainstaluj pakiety przez zypper (openSUSE)] ***********************************************************************************
2025-10-13 11:24:48,563 p=80118 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:24:48,567 p=80118 u=marek n=ansible | TASK [Zbierz wyniki instalacji] *****************************************************************************************************
2025-10-13 11:24:48,576 p=80118 u=marek n=ansible | ok: [localhost]
2025-10-13 11:24:48,580 p=80118 u=marek n=ansible | TASK [Sprawd≈∫ czy pakiety zosta≈Çy zainstalowane] ************************************************************************************
2025-10-13 11:24:50,724 p=80118 u=marek n=ansible | ok: [localhost]
2025-10-13 11:24:50,743 p=80118 u=marek n=ansible | TASK [Wy≈õwietl status instalacji] ***************************************************************************************************
2025-10-13 11:24:50,775 p=80118 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === STATUS INSTALACJI ===
    ‚ùå curl: Nie znaleziono lub b≈ÇƒÖd instalacji
  
    === SZCZEG√ì≈ÅY ===
    Zmieniono: True
    Mened≈ºer pakiet√≥w: apt
2025-10-13 11:24:50,798 p=80118 u=marek n=ansible | TASK [Wyczy≈õƒá cache pakiet√≥w (je≈õli w≈ÇƒÖczone)] **************************************************************************************
2025-10-13 11:24:50,808 p=80118 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:24:50,833 p=80118 u=marek n=ansible | TASK [Wy≈õwietl podsumowanie] ********************************************************************************************************
2025-10-13 11:24:50,853 p=80118 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === PODSUMOWANIE INSTALACJI ===
    System: Ubuntu 24.04
    Pakiety: curl
    Status: Zainstalowano pomy≈õlnie
    Mened≈ºer: apt
  
    === POLECENIA SPRAWDZAJƒÑCE ===
    Sprawd≈∫ curl: which curl || dpkg -l | grep curl
  
    === PRZYK≈ÅADY U≈ªYCIA ===
    Instalacja z aktualizacjƒÖ: ./run-automation.sh install -e "name=htop update=true"
    Wiele pakiet√≥w: ./run-automation.sh install -e "name=vim,git,curl"
    Najnowsza wersja: ./run-automation.sh install -e "name=nginx state=latest"
    Z czyszczeniem: ./run-automation.sh install -e "name=docker.io cleanup=true"
2025-10-13 11:24:50,957 p=80118 u=marek n=ansible | PLAY RECAP **************************************************************************************************************************
2025-10-13 11:24:50,957 p=80118 u=marek n=ansible | localhost                  : ok=9    changed=2    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2025-10-13 11:25:03,337 p=80460 u=marek n=ansible | PLAY [INSTALL MODULE - Instalacja pakiet√≥w] *****************************************************************************************
2025-10-13 11:25:03,341 p=80460 u=marek n=ansible | TASK [Gathering Facts] **************************************************************************************************************
2025-10-13 11:25:06,992 p=80460 u=marek n=ansible | ok: [localhost]
2025-10-13 11:25:06,996 p=80460 u=marek n=ansible | TASK [Sprawd≈∫ czy podano nazwƒô pakietu] *********************************************************************************************
2025-10-13 11:25:07,017 p=80460 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:25:07,024 p=80460 u=marek n=ansible | TASK [Wy≈õwietl informacje o instalacji] *********************************************************************************************
2025-10-13 11:25:07,051 p=80460 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === INSTALACJA PAKIET√ìW ===
    Pakiety: vim, git, tree
    Stan: present
    Aktualizacja cache: True
    Rekomendacje: True
    System: Debian
    Dystrybucja: Ubuntu 24.04
2025-10-13 11:25:07,063 p=80460 u=marek n=ansible | TASK [Sprawd≈∫ system operacyjny] ****************************************************************************************************
2025-10-13 11:25:07,074 p=80460 u=marek n=ansible | ok: [localhost] => 
  msg: 'Wykryto system: Debian'
2025-10-13 11:25:07,079 p=80460 u=marek n=ansible | TASK [Aktualizuj cache apt (Debian/Ubuntu)] *****************************************************************************************
2025-10-13 11:25:07,690 p=80460 u=marek n=ansible | changed: [localhost]
2025-10-13 11:25:07,694 p=80460 u=marek n=ansible | TASK [Zainstaluj pakiety przez apt (Debian/Ubuntu)] *********************************************************************************
2025-10-13 11:25:08,503 p=80460 u=marek n=ansible | The following NEW packages will be installed:
  tree
0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
2025-10-13 11:25:08,504 p=80460 u=marek n=ansible | changed: [localhost]
2025-10-13 11:25:08,507 p=80460 u=marek n=ansible | TASK [Zainstaluj pakiety przez yum/dnf (RHEL/CentOS/Fedora)] ************************************************************************
2025-10-13 11:25:08,515 p=80460 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:25:08,521 p=80460 u=marek n=ansible | TASK [Zainstaluj pakiety przez pacman (Arch Linux)] *********************************************************************************
2025-10-13 11:25:08,528 p=80460 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:25:08,533 p=80460 u=marek n=ansible | TASK [Zainstaluj pakiety przez zypper (openSUSE)] ***********************************************************************************
2025-10-13 11:25:08,542 p=80460 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:25:08,547 p=80460 u=marek n=ansible | TASK [Zbierz wyniki instalacji] *****************************************************************************************************
2025-10-13 11:25:08,556 p=80460 u=marek n=ansible | ok: [localhost]
2025-10-13 11:25:08,560 p=80460 u=marek n=ansible | TASK [Sprawd≈∫ czy pakiety zosta≈Çy zainstalowane] ************************************************************************************
2025-10-13 11:25:10,730 p=80460 u=marek n=ansible | ok: [localhost]
2025-10-13 11:25:10,751 p=80460 u=marek n=ansible | TASK [Wy≈õwietl status instalacji] ***************************************************************************************************
2025-10-13 11:25:10,789 p=80460 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === STATUS INSTALACJI ===
    ‚úÖ vim: Zainstalowany (wersja: 2:9.1.0016-1ubuntu7.9)
    ‚úÖ git: Zainstalowany (wersja: 1:2.43.0-1ubuntu7.3)
    ‚ùå tree: Nie znaleziono lub b≈ÇƒÖd instalacji
  
    === SZCZEG√ì≈ÅY ===
    Zmieniono: True
    Mened≈ºer pakiet√≥w: apt
2025-10-13 11:25:10,813 p=80460 u=marek n=ansible | TASK [Wyczy≈õƒá cache pakiet√≥w (je≈õli w≈ÇƒÖczone)] **************************************************************************************
2025-10-13 11:25:10,825 p=80460 u=marek n=ansible | skipping: [localhost]
2025-10-13 11:25:10,852 p=80460 u=marek n=ansible | TASK [Wy≈õwietl podsumowanie] ********************************************************************************************************
2025-10-13 11:25:10,875 p=80460 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === PODSUMOWANIE INSTALACJI ===
    System: Ubuntu 24.04
    Pakiety: vim, git, tree
    Status: Zainstalowano pomy≈õlnie
    Mened≈ºer: apt
  
    === POLECENIA SPRAWDZAJƒÑCE ===
    Sprawd≈∫ vim: which vim || dpkg -l | grep vim
    Sprawd≈∫ git: which git || dpkg -l | grep git
    Sprawd≈∫ tree: which tree || dpkg -l | grep tree
  
    === PRZYK≈ÅADY U≈ªYCIA ===
    Instalacja z aktualizacjƒÖ: ./run-automation.sh install -e "name=htop update=true"
    Wiele pakiet√≥w: ./run-automation.sh install -e "name=vim,git,curl"
    Najnowsza wersja: ./run-automation.sh install -e "name=nginx state=latest"
    Z czyszczeniem: ./run-automation.sh install -e "name=docker.io cleanup=true"
2025-10-13 11:25:10,971 p=80460 u=marek n=ansible | PLAY RECAP **************************************************************************************************************************
2025-10-13 11:25:10,972 p=80460 u=marek n=ansible | localhost                  : ok=9    changed=2    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2025-10-14 12:52:10,145 p=114441 u=marek n=ansible | [WARNING]: Found variable using reserved name: action

2025-10-14 12:52:10,145 p=114441 u=marek n=ansible | PLAY [BACKUP MODULE - ZarzƒÖdzanie archiwami] ****************************************************************************************
2025-10-14 12:52:10,149 p=114441 u=marek n=ansible | TASK [Gathering Facts] **************************************************************************************************************
2025-10-14 12:52:10,862 p=114441 u=marek n=ansible | ok: [localhost]
2025-10-14 12:52:10,865 p=114441 u=marek n=ansible | TASK [Sprawd≈∫ czy podano akcjƒô] *****************************************************************************************************
2025-10-14 12:52:10,884 p=114441 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:10,889 p=114441 u=marek n=ansible | TASK [Sprawd≈∫ parametry dla archive] ************************************************************************************************
2025-10-14 12:52:10,910 p=114441 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:10,916 p=114441 u=marek n=ansible | TASK [Sprawd≈∫ parametry dla extract] ************************************************************************************************
2025-10-14 12:52:10,937 p=114441 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:10,944 p=114441 u=marek n=ansible | TASK [Wy≈õwietl informacje o akcji] **************************************************************************************************
2025-10-14 12:52:10,967 p=114441 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === BACKUP MODULE ===
    Akcja: ARCHIVE
    ≈πr√≥d≈Ço (zdalny): /home/marek/CODE/ansible-automation-linux/templates
    Cel (lokalny): ./test-backup
    Archiwum: templates_localhost_1760439130.tar.gz
    Host: localhost
    Katalog tymczasowy: /tmp
2025-10-14 12:52:10,977 p=114441 u=marek n=ansible | TASK [Sprawd≈∫ czy katalog ≈∫r√≥d≈Çowy istnieje] ****************************************************************************************
2025-10-14 12:52:11,147 p=114441 u=marek n=ansible | ok: [localhost]
2025-10-14 12:52:11,152 p=114441 u=marek n=ansible | TASK [B≈ÇƒÖd - katalog ≈∫r√≥d≈Çowy nie istnieje] *****************************************************************************************
2025-10-14 12:52:11,172 p=114441 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:11,178 p=114441 u=marek n=ansible | TASK [Sprawd≈∫ rozmiar katalogu ≈∫r√≥d≈Çowego] ******************************************************************************************
2025-10-14 12:52:11,345 p=114441 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:11,350 p=114441 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôpne miejsce w /tmp] **********************************************************************************************
2025-10-14 12:52:11,469 p=114441 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:11,473 p=114441 u=marek n=ansible | TASK [Oblicz wymagane miejsce (z marginesem 20%)] ***********************************************************************************
2025-10-14 12:52:11,495 p=114441 u=marek n=ansible | ok: [localhost]
2025-10-14 12:52:11,499 p=114441 u=marek n=ansible | TASK [Wy≈õwietl informacje o miejscu] ************************************************************************************************
2025-10-14 12:52:11,520 p=114441 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === ANALIZA MIEJSCA NA DYSKU ===
    Rozmiar ≈∫r√≥d≈Ça: 0.0 GB
    Dostƒôpne miejsce: 0.0 GB
    Wymagane miejsce: 0.0 GB (z marginesem)
    Minimalne wymaganie: 1 GB
2025-10-14 12:52:11,524 p=114441 u=marek n=ansible | TASK [Sprawd≈∫ czy wystarczy miejsca] ************************************************************************************************
2025-10-14 12:52:11,544 p=114441 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:11,549 p=114441 u=marek n=ansible | TASK [Utw√≥rz lokalny katalog docelowy] **********************************************************************************************
2025-10-14 12:52:11,720 p=114441 u=marek n=ansible | [0;31m--- before[0m
[0;31m[0m[0;32m+++ after[0m
[0;32m[0m[0;36m@@ -1,2 +1,2 @@[0m
[0;36m[0m path: ./test-backup
[0;31m-state: absent[0m
[0;31m[0m[0;32m+state: directory[0m
[0;32m[0m

2025-10-14 12:52:11,720 p=114441 u=marek n=ansible | changed: [localhost]
2025-10-14 12:52:11,724 p=114441 u=marek n=ansible | TASK [Utw√≥rz archiwum tar.gz na zdalnym serwerze] ***********************************************************************************
2025-10-14 12:52:11,840 p=114441 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:11,844 p=114441 u=marek n=ansible | TASK [Sprawd≈∫ czy archiwum zosta≈Ço utworzone] ***************************************************************************************
2025-10-14 12:52:11,960 p=114441 u=marek n=ansible | ok: [localhost]
2025-10-14 12:52:11,965 p=114441 u=marek n=ansible | TASK [B≈ÇƒÖd - nie uda≈Ço siƒô utworzyƒá archiwum] ***************************************************************************************
2025-10-14 12:52:11,987 p=114441 u=marek n=ansible | fatal: [localhost]: FAILED! => changed=false 
  msg: Nie uda≈Ço siƒô utworzyƒá archiwum /tmp/templates_localhost_1760439130.tar.gz
2025-10-14 12:52:11,988 p=114441 u=marek n=ansible | PLAY RECAP **************************************************************************************************************************
2025-10-14 12:52:11,988 p=114441 u=marek n=ansible | localhost                  : ok=7    changed=1    unreachable=0    failed=1    skipped=8    rescued=0    ignored=0   
2025-10-14 12:52:55,464 p=114872 u=marek n=ansible | [WARNING]: Found variable using reserved name: action

2025-10-14 12:52:55,465 p=114872 u=marek n=ansible | PLAY [BACKUP MODULE - ZarzƒÖdzanie archiwami] ****************************************************************************************
2025-10-14 12:52:55,468 p=114872 u=marek n=ansible | TASK [Gathering Facts] **************************************************************************************************************
2025-10-14 12:52:56,139 p=114872 u=marek n=ansible | ok: [localhost]
2025-10-14 12:52:56,143 p=114872 u=marek n=ansible | TASK [Sprawd≈∫ czy podano akcjƒô] *****************************************************************************************************
2025-10-14 12:52:56,164 p=114872 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:56,169 p=114872 u=marek n=ansible | TASK [Sprawd≈∫ parametry dla archive] ************************************************************************************************
2025-10-14 12:52:56,187 p=114872 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:56,193 p=114872 u=marek n=ansible | TASK [Sprawd≈∫ parametry dla extract] ************************************************************************************************
2025-10-14 12:52:56,210 p=114872 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:56,214 p=114872 u=marek n=ansible | TASK [Wy≈õwietl informacje o akcji] **************************************************************************************************
2025-10-14 12:52:56,236 p=114872 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === BACKUP MODULE ===
    Akcja: ARCHIVE
    ≈πr√≥d≈Ço (zdalny): /home/marek/CODE/ansible-automation-linux/templates
    Cel (lokalny): ./test-backup
    Archiwum: templates_localhost_1760439176.tar.gz
    Host: localhost
    Katalog tymczasowy: /tmp
2025-10-14 12:52:56,246 p=114872 u=marek n=ansible | TASK [Sprawd≈∫ czy katalog ≈∫r√≥d≈Çowy istnieje] ****************************************************************************************
2025-10-14 12:52:56,415 p=114872 u=marek n=ansible | ok: [localhost]
2025-10-14 12:52:56,420 p=114872 u=marek n=ansible | TASK [B≈ÇƒÖd - katalog ≈∫r√≥d≈Çowy nie istnieje] *****************************************************************************************
2025-10-14 12:52:56,438 p=114872 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:56,444 p=114872 u=marek n=ansible | TASK [Sprawd≈∫ rozmiar katalogu ≈∫r√≥d≈Çowego] ******************************************************************************************
2025-10-14 12:52:56,463 p=114872 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:56,468 p=114872 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôpne miejsce w /tmp] **********************************************************************************************
2025-10-14 12:52:56,486 p=114872 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:56,492 p=114872 u=marek n=ansible | TASK [Ustaw przyk≈Çadowe warto≈õci dla dry-run] ***************************************************************************************
2025-10-14 12:52:56,513 p=114872 u=marek n=ansible | ok: [localhost]
2025-10-14 12:52:56,517 p=114872 u=marek n=ansible | TASK [Oblicz wymagane miejsce (z marginesem 20%)] ***********************************************************************************
2025-10-14 12:52:56,541 p=114872 u=marek n=ansible | ok: [localhost]
2025-10-14 12:52:56,546 p=114872 u=marek n=ansible | TASK [Wy≈õwietl informacje o miejscu] ************************************************************************************************
2025-10-14 12:52:56,568 p=114872 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === ANALIZA MIEJSCA NA DYSKU ===
    Rozmiar ≈∫r√≥d≈Ça: 1.0 GB
    Dostƒôpne miejsce: 10.0 GB
    Wymagane miejsce: 1.2 GB (z marginesem)
    Minimalne wymaganie: 1 GB
2025-10-14 12:52:56,573 p=114872 u=marek n=ansible | TASK [Sprawd≈∫ czy wystarczy miejsca] ************************************************************************************************
2025-10-14 12:52:56,594 p=114872 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:56,598 p=114872 u=marek n=ansible | TASK [Utw√≥rz lokalny katalog docelowy] **********************************************************************************************
2025-10-14 12:52:56,771 p=114872 u=marek n=ansible | [0;31m--- before[0m
[0;31m[0m[0;32m+++ after[0m
[0;32m[0m[0;36m@@ -1,2 +1,2 @@[0m
[0;36m[0m path: ./test-backup
[0;31m-state: absent[0m
[0;31m[0m[0;32m+state: directory[0m
[0;32m[0m

2025-10-14 12:52:56,771 p=114872 u=marek n=ansible | changed: [localhost]
2025-10-14 12:52:56,775 p=114872 u=marek n=ansible | TASK [Utw√≥rz archiwum tar.gz na zdalnym serwerze] ***********************************************************************************
2025-10-14 12:52:56,942 p=114872 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:56,946 p=114872 u=marek n=ansible | TASK [Sprawd≈∫ czy archiwum zosta≈Ço utworzone] ***************************************************************************************
2025-10-14 12:52:56,965 p=114872 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:56,969 p=114872 u=marek n=ansible | TASK [B≈ÇƒÖd - nie uda≈Ço siƒô utworzyƒá archiwum] ***************************************************************************************
2025-10-14 12:52:56,994 p=114872 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:56,998 p=114872 u=marek n=ansible | TASK [Pobierz archiwum na localhost] ************************************************************************************************
2025-10-14 12:52:57,017 p=114872 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:57,024 p=114872 u=marek n=ansible | TASK [Usu≈Ñ tymczasowe archiwum ze zdalnego serwera] *********************************************************************************
2025-10-14 12:52:57,046 p=114872 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:57,050 p=114872 u=marek n=ansible | TASK [Sprawd≈∫ rozmiar pobranego archiwum] *******************************************************************************************
2025-10-14 12:52:57,070 p=114872 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:57,076 p=114872 u=marek n=ansible | TASK [Wy≈õwietl podsumowanie archiwizacji] *******************************************************************************************
2025-10-14 12:52:57,106 p=114872 u=marek n=ansible | ok: [localhost] => 
  msg: "=== ARCHIWIZACJA SYMULOWANA (DRY-RUN) ===\n≈πr√≥d≈Ço: /home/marek/CODE/ansible-automation-linux/templates (1.0 GB)\nArchiwum: ./test-backup/templates_localhost_1760439176.tar.gz\nRozmiar archiwum: Bƒôdzie obliczony po utworzeniu\nStatus: \U0001F50D Dry-run"
2025-10-14 12:52:57,112 p=114872 u=marek n=ansible | TASK [Sprawd≈∫ czy plik archiwum istnieje lokalnie] **********************************************************************************
2025-10-14 12:52:57,138 p=114872 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:57,144 p=114872 u=marek n=ansible | TASK [B≈ÇƒÖd - plik archiwum nie istnieje] ********************************************************************************************
2025-10-14 12:52:57,166 p=114872 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:57,171 p=114872 u=marek n=ansible | TASK [Utw√≥rz katalog docelowy na zdalnym serwerze] **********************************************************************************
2025-10-14 12:52:57,211 p=114872 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:57,229 p=114872 u=marek n=ansible | TASK [Wygeneruj nazwƒô tymczasowego pliku] *******************************************************************************************
2025-10-14 12:52:57,249 p=114872 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:57,255 p=114872 u=marek n=ansible | TASK [Skopiuj archiwum na zdalny serwer] ********************************************************************************************
2025-10-14 12:52:57,273 p=114872 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:57,278 p=114872 u=marek n=ansible | TASK [Sprawd≈∫ zawarto≈õƒá archiwum] ***************************************************************************************************
2025-10-14 12:52:57,297 p=114872 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:57,302 p=114872 u=marek n=ansible | TASK [Wy≈õwietl zawarto≈õƒá archiwum] **************************************************************************************************
2025-10-14 12:52:57,318 p=114872 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:57,324 p=114872 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôpne miejsce dla ekstraktowania] **********************************************************************************
2025-10-14 12:52:57,345 p=114872 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:57,349 p=114872 u=marek n=ansible | TASK [Rozpakuj archiwum] ************************************************************************************************************
2025-10-14 12:52:57,367 p=114872 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:57,373 p=114872 u=marek n=ansible | TASK [Usu≈Ñ tymczasowe archiwum] *****************************************************************************************************
2025-10-14 12:52:57,391 p=114872 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:57,396 p=114872 u=marek n=ansible | TASK [Sprawd≈∫ wyniki ekstraktowania] ************************************************************************************************
2025-10-14 12:52:57,413 p=114872 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:57,417 p=114872 u=marek n=ansible | TASK [Wy≈õwietl podsumowanie ekstraktowania] *****************************************************************************************
2025-10-14 12:52:57,434 p=114872 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:52:57,440 p=114872 u=marek n=ansible | TASK [Wy≈õwietl instrukcje] **********************************************************************************************************
2025-10-14 12:52:57,448 p=114872 u=marek n=ansible | ok: [localhost] => 
  msg: "=== INSTRUKCJE BACKUP MODULE ===\n\n\U0001F4E6 TWORZENIE KOPII ZAPASOWEJ (ARCHIVE):\n./run-automation.sh backup -e \"action=archive source=/path/to/backup target=./backup\"\n\n\U0001F4C2 PRZYWRACANIE Z KOPII (EXTRACT):\n./run-automation.sh backup -e \"action=extract source=./backup/file.tar.gz target=/path/to/restore\"\n\n\U0001F527 DODATKOWE OPCJE:\n- min_space=2: Minimalne miejsce w GB (domy≈õlnie 1)\n- compression=9: Poziom kompresji 1-9 (domy≈õlnie 6)\n- exclude=\"*.log,*.tmp\": Wzorce wyklucze≈Ñ\n\n\U0001F4CB PRZYK≈ÅADY:\n# Kopia Tomcat\n./run-automation.sh backup -e \"action=archive source=/opt/tomcat target=./backups\"\n\n# Przywr√≥ƒá Tomcat\n./run-automation.sh backup -e \"action=extract source=./backups/tomcat_server1_123456.tar.gz target=/opt/tomcat\"\n\n# Z wykluczeniami\n./run-automation.sh backup -e \"action=archive source=/var/www exclude='*.log,cache/*,*.tmp' target=./www-backup\""
2025-10-14 12:52:57,464 p=114872 u=marek n=ansible | PLAY RECAP **************************************************************************************************************************
2025-10-14 12:52:57,465 p=114872 u=marek n=ansible | localhost                  : ok=9    changed=1    unreachable=0    failed=0    skipped=25   rescued=0    ignored=0   
2025-10-14 12:54:10,519 p=115295 u=marek n=ansible | PLAY [BACKUP MODULE - ZarzƒÖdzanie archiwami] ****************************************************************************************
2025-10-14 12:54:10,523 p=115295 u=marek n=ansible | TASK [Gathering Facts] **************************************************************************************************************
2025-10-14 12:54:11,192 p=115295 u=marek n=ansible | ok: [localhost]
2025-10-14 12:54:11,196 p=115295 u=marek n=ansible | TASK [Sprawd≈∫ czy podano akcjƒô] *****************************************************************************************************
2025-10-14 12:54:11,213 p=115295 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:54:11,218 p=115295 u=marek n=ansible | TASK [Sprawd≈∫ parametry dla archive] ************************************************************************************************
2025-10-14 12:54:11,241 p=115295 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:54:11,245 p=115295 u=marek n=ansible | TASK [Sprawd≈∫ parametry dla extract] ************************************************************************************************
2025-10-14 12:54:11,262 p=115295 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:54:11,266 p=115295 u=marek n=ansible | TASK [Wy≈õwietl informacje o akcji] **************************************************************************************************
2025-10-14 12:54:11,292 p=115295 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === BACKUP MODULE ===
    Akcja: ARCHIVE
    ≈πr√≥d≈Ço (zdalny): /home/marek/CODE/ansible-automation-linux/docs
    Cel (lokalny): ./test-backup
    Archiwum: docs_localhost_1760439251.tar.gz
    Host: localhost
    Katalog tymczasowy: /tmp
2025-10-14 12:54:11,302 p=115295 u=marek n=ansible | TASK [Sprawd≈∫ czy katalog ≈∫r√≥d≈Çowy istnieje] ****************************************************************************************
2025-10-14 12:54:11,468 p=115295 u=marek n=ansible | ok: [localhost]
2025-10-14 12:54:11,473 p=115295 u=marek n=ansible | TASK [B≈ÇƒÖd - katalog ≈∫r√≥d≈Çowy nie istnieje] *****************************************************************************************
2025-10-14 12:54:11,491 p=115295 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:54:11,496 p=115295 u=marek n=ansible | TASK [Sprawd≈∫ rozmiar katalogu ≈∫r√≥d≈Çowego] ******************************************************************************************
2025-10-14 12:54:11,513 p=115295 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:54:11,520 p=115295 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôpne miejsce w /tmp] **********************************************************************************************
2025-10-14 12:54:11,542 p=115295 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:54:11,547 p=115295 u=marek n=ansible | TASK [Ustaw przyk≈Çadowe warto≈õci dla dry-run] ***************************************************************************************
2025-10-14 12:54:11,565 p=115295 u=marek n=ansible | ok: [localhost]
2025-10-14 12:54:11,571 p=115295 u=marek n=ansible | TASK [Oblicz wymagane miejsce (z marginesem 20%)] ***********************************************************************************
2025-10-14 12:54:11,594 p=115295 u=marek n=ansible | ok: [localhost]
2025-10-14 12:54:11,598 p=115295 u=marek n=ansible | TASK [Wy≈õwietl informacje o miejscu] ************************************************************************************************
2025-10-14 12:54:11,618 p=115295 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === ANALIZA MIEJSCA NA DYSKU ===
    Rozmiar ≈∫r√≥d≈Ça: 1.0 GB
    Dostƒôpne miejsce: 10.0 GB
    Wymagane miejsce: 1.2 GB (z marginesem)
    Minimalne wymaganie: 1 GB
2025-10-14 12:54:11,625 p=115295 u=marek n=ansible | TASK [Sprawd≈∫ czy wystarczy miejsca] ************************************************************************************************
2025-10-14 12:54:11,644 p=115295 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:54:11,648 p=115295 u=marek n=ansible | TASK [Utw√≥rz lokalny katalog docelowy] **********************************************************************************************
2025-10-14 12:54:11,817 p=115295 u=marek n=ansible | [0;31m--- before[0m
[0;31m[0m[0;32m+++ after[0m
[0;32m[0m[0;36m@@ -1,2 +1,2 @@[0m
[0;36m[0m path: ./test-backup
[0;31m-state: absent[0m
[0;31m[0m[0;32m+state: directory[0m
[0;32m[0m

2025-10-14 12:54:11,817 p=115295 u=marek n=ansible | changed: [localhost]
2025-10-14 12:54:11,821 p=115295 u=marek n=ansible | TASK [Utw√≥rz archiwum tar.gz na zdalnym serwerze] ***********************************************************************************
2025-10-14 12:54:11,975 p=115295 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:54:11,979 p=115295 u=marek n=ansible | TASK [Sprawd≈∫ czy archiwum zosta≈Ço utworzone] ***************************************************************************************
2025-10-14 12:54:11,996 p=115295 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:54:12,001 p=115295 u=marek n=ansible | TASK [B≈ÇƒÖd - nie uda≈Ço siƒô utworzyƒá archiwum] ***************************************************************************************
2025-10-14 12:54:12,022 p=115295 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:54:12,026 p=115295 u=marek n=ansible | TASK [Pobierz archiwum na localhost] ************************************************************************************************
2025-10-14 12:54:12,047 p=115295 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:54:12,053 p=115295 u=marek n=ansible | TASK [Usu≈Ñ tymczasowe archiwum ze zdalnego serwera] *********************************************************************************
2025-10-14 12:54:12,072 p=115295 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:54:12,076 p=115295 u=marek n=ansible | TASK [Sprawd≈∫ rozmiar pobranego archiwum] *******************************************************************************************
2025-10-14 12:54:12,097 p=115295 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:54:12,101 p=115295 u=marek n=ansible | TASK [Wy≈õwietl podsumowanie archiwizacji] *******************************************************************************************
2025-10-14 12:54:12,130 p=115295 u=marek n=ansible | ok: [localhost] => 
  msg: "=== ARCHIWIZACJA SYMULOWANA (DRY-RUN) ===\n≈πr√≥d≈Ço: /home/marek/CODE/ansible-automation-linux/docs (1.0 GB)\nArchiwum: ./test-backup/docs_localhost_1760439251.tar.gz\nRozmiar archiwum: Bƒôdzie obliczony po utworzeniu\nStatus: \U0001F50D Dry-run"
2025-10-14 12:54:12,134 p=115295 u=marek n=ansible | TASK [Sprawd≈∫ czy plik archiwum istnieje lokalnie] **********************************************************************************
2025-10-14 12:54:12,159 p=115295 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:54:12,163 p=115295 u=marek n=ansible | TASK [B≈ÇƒÖd - plik archiwum nie istnieje] ********************************************************************************************
2025-10-14 12:54:12,182 p=115295 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:54:12,188 p=115295 u=marek n=ansible | TASK [Utw√≥rz katalog docelowy na zdalnym serwerze] **********************************************************************************
2025-10-14 12:54:12,227 p=115295 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:54:12,245 p=115295 u=marek n=ansible | TASK [Wygeneruj nazwƒô tymczasowego pliku] *******************************************************************************************
2025-10-14 12:54:12,265 p=115295 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:54:12,269 p=115295 u=marek n=ansible | TASK [Skopiuj archiwum na zdalny serwer] ********************************************************************************************
2025-10-14 12:54:12,286 p=115295 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:54:12,291 p=115295 u=marek n=ansible | TASK [Sprawd≈∫ zawarto≈õƒá archiwum] ***************************************************************************************************
2025-10-14 12:54:12,310 p=115295 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:54:12,314 p=115295 u=marek n=ansible | TASK [Wy≈õwietl zawarto≈õƒá archiwum] **************************************************************************************************
2025-10-14 12:54:12,332 p=115295 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:54:12,338 p=115295 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôpne miejsce dla ekstraktowania] **********************************************************************************
2025-10-14 12:54:12,358 p=115295 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:54:12,362 p=115295 u=marek n=ansible | TASK [Rozpakuj archiwum] ************************************************************************************************************
2025-10-14 12:54:12,380 p=115295 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:54:12,385 p=115295 u=marek n=ansible | TASK [Usu≈Ñ tymczasowe archiwum] *****************************************************************************************************
2025-10-14 12:54:12,405 p=115295 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:54:12,409 p=115295 u=marek n=ansible | TASK [Sprawd≈∫ wyniki ekstraktowania] ************************************************************************************************
2025-10-14 12:54:12,429 p=115295 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:54:12,433 p=115295 u=marek n=ansible | TASK [Wy≈õwietl podsumowanie ekstraktowania] *****************************************************************************************
2025-10-14 12:54:12,450 p=115295 u=marek n=ansible | skipping: [localhost]
2025-10-14 12:54:12,454 p=115295 u=marek n=ansible | TASK [Wy≈õwietl instrukcje] **********************************************************************************************************
2025-10-14 12:54:12,462 p=115295 u=marek n=ansible | ok: [localhost] => 
  msg: "=== INSTRUKCJE BACKUP MODULE ===\n\n\U0001F4E6 TWORZENIE KOPII ZAPASOWEJ (ARCHIVE):\n./run-automation.sh backup -e \"task_action=archive source=/path/to/backup target=./backup\"\n\n\U0001F4C2 PRZYWRACANIE Z KOPII (EXTRACT):\n./run-automation.sh backup -e \"task_action=extract source=./backup/file.tar.gz target=/path/to/restore\"\n\n\U0001F527 DODATKOWE OPCJE:\n- min_space=2: Minimalne miejsce w GB (domy≈õlnie 1)\n- compression=9: Poziom kompresji 1-9 (domy≈õlnie 6)\n- exclude=\"*.log,*.tmp\": Wzorce wyklucze≈Ñ\n\n\U0001F4CB PRZYK≈ÅADY:\n# Kopia Tomcat\n./run-automation.sh backup -e \"task_action=archive source=/opt/tomcat target=./backups\"\n\n# Przywr√≥ƒá Tomcat\n./run-automation.sh backup -e \"task_action=extract source=./backups/tomcat_server1_123456.tar.gz target=/opt/tomcat\"\n\n# Z wykluczeniami\n./run-automation.sh backup -e \"task_action=archive source=/var/www exclude='*.log,cache/*,*.tmp' target=./www-backup\""
2025-10-14 12:54:12,478 p=115295 u=marek n=ansible | PLAY RECAP **************************************************************************************************************************
2025-10-14 12:54:12,478 p=115295 u=marek n=ansible | localhost                  : ok=9    changed=1    unreachable=0    failed=0    skipped=25   rescued=0    ignored=0   
2025-10-14 13:05:28,791 p=116754 u=marek n=ansible | PLAY [BACKUP MODULE - ZarzƒÖdzanie archiwami] ****************************************************************************************
2025-10-14 13:05:28,795 p=116754 u=marek n=ansible | TASK [Gathering Facts] **************************************************************************************************************
2025-10-14 13:05:31,464 p=116754 u=marek n=ansible | ok: [localhost]
2025-10-14 13:05:31,468 p=116754 u=marek n=ansible | TASK [Sprawd≈∫ czy podano akcjƒô] *****************************************************************************************************
2025-10-14 13:05:31,491 p=116754 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:05:31,498 p=116754 u=marek n=ansible | TASK [Sprawd≈∫ parametry dla archive] ************************************************************************************************
2025-10-14 13:05:31,520 p=116754 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:05:31,527 p=116754 u=marek n=ansible | TASK [Sprawd≈∫ parametry dla extract] ************************************************************************************************
2025-10-14 13:05:31,551 p=116754 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:05:31,556 p=116754 u=marek n=ansible | TASK [Wy≈õwietl informacje o akcji] **************************************************************************************************
2025-10-14 13:05:31,581 p=116754 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === BACKUP MODULE ===
    Akcja: EXTRACT
    ≈πr√≥d≈Ço (lokalny): ./test-backup/test-docs.tar.gz
    Cel (zdalny): /tmp/restore-test
    Host: localhost
    Katalog tymczasowy: /tmp
2025-10-14 13:05:31,593 p=116754 u=marek n=ansible | TASK [Sprawd≈∫ czy katalog ≈∫r√≥d≈Çowy istnieje] ****************************************************************************************
2025-10-14 13:05:31,616 p=116754 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:05:31,622 p=116754 u=marek n=ansible | TASK [B≈ÇƒÖd - katalog ≈∫r√≥d≈Çowy nie istnieje] *****************************************************************************************
2025-10-14 13:05:31,642 p=116754 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:05:31,648 p=116754 u=marek n=ansible | TASK [Sprawd≈∫ rozmiar katalogu ≈∫r√≥d≈Çowego] ******************************************************************************************
2025-10-14 13:05:31,670 p=116754 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:05:31,676 p=116754 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôpne miejsce w /tmp] **********************************************************************************************
2025-10-14 13:05:31,697 p=116754 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:05:31,701 p=116754 u=marek n=ansible | TASK [Ustaw przyk≈Çadowe warto≈õci dla dry-run] ***************************************************************************************
2025-10-14 13:05:31,723 p=116754 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:05:31,727 p=116754 u=marek n=ansible | TASK [Oblicz wymagane miejsce (z marginesem 20%)] ***********************************************************************************
2025-10-14 13:05:31,751 p=116754 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:05:31,755 p=116754 u=marek n=ansible | TASK [Wy≈õwietl informacje o miejscu] ************************************************************************************************
2025-10-14 13:05:31,779 p=116754 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:05:31,785 p=116754 u=marek n=ansible | TASK [Sprawd≈∫ czy wystarczy miejsca] ************************************************************************************************
2025-10-14 13:05:31,807 p=116754 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:05:31,814 p=116754 u=marek n=ansible | TASK [Utw√≥rz lokalny katalog docelowy] **********************************************************************************************
2025-10-14 13:05:31,839 p=116754 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:05:31,843 p=116754 u=marek n=ansible | TASK [Utw√≥rz archiwum tar.gz na zdalnym serwerze] ***********************************************************************************
2025-10-14 13:05:31,864 p=116754 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:05:31,869 p=116754 u=marek n=ansible | TASK [Sprawd≈∫ czy archiwum zosta≈Ço utworzone] ***************************************************************************************
2025-10-14 13:05:31,885 p=116754 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:05:31,890 p=116754 u=marek n=ansible | TASK [B≈ÇƒÖd - nie uda≈Ço siƒô utworzyƒá archiwum] ***************************************************************************************
2025-10-14 13:05:31,912 p=116754 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:05:31,916 p=116754 u=marek n=ansible | TASK [Pobierz archiwum na localhost] ************************************************************************************************
2025-10-14 13:05:31,935 p=116754 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:05:31,940 p=116754 u=marek n=ansible | TASK [Usu≈Ñ tymczasowe archiwum ze zdalnego serwera] *********************************************************************************
2025-10-14 13:05:31,956 p=116754 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:05:31,962 p=116754 u=marek n=ansible | TASK [Sprawd≈∫ rozmiar pobranego archiwum] *******************************************************************************************
2025-10-14 13:05:31,985 p=116754 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:05:31,989 p=116754 u=marek n=ansible | TASK [Wy≈õwietl podsumowanie archiwizacji] *******************************************************************************************
2025-10-14 13:05:32,007 p=116754 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:05:32,012 p=116754 u=marek n=ansible | TASK [Sprawd≈∫ czy plik archiwum istnieje lokalnie] **********************************************************************************
2025-10-14 13:05:32,194 p=116754 u=marek n=ansible | ok: [localhost]
2025-10-14 13:05:32,199 p=116754 u=marek n=ansible | TASK [B≈ÇƒÖd - plik archiwum nie istnieje] ********************************************************************************************
2025-10-14 13:05:32,222 p=116754 u=marek n=ansible | fatal: [localhost]: FAILED! => changed=false 
  msg: Plik archiwum ./test-backup/test-docs.tar.gz nie istnieje na localhost
2025-10-14 13:05:32,223 p=116754 u=marek n=ansible | PLAY RECAP **************************************************************************************************************************
2025-10-14 13:05:32,223 p=116754 u=marek n=ansible | localhost                  : ok=3    changed=0    unreachable=0    failed=1    skipped=19   rescued=0    ignored=0   
2025-10-14 13:06:40,036 p=117167 u=marek n=ansible | PLAY [BACKUP MODULE - ZarzƒÖdzanie archiwami] ****************************************************************************************
2025-10-14 13:06:40,042 p=117167 u=marek n=ansible | TASK [Gathering Facts] **************************************************************************************************************
2025-10-14 13:06:40,739 p=117167 u=marek n=ansible | ok: [localhost]
2025-10-14 13:06:40,742 p=117167 u=marek n=ansible | TASK [Sprawd≈∫ czy podano akcjƒô] *****************************************************************************************************
2025-10-14 13:06:40,761 p=117167 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:40,766 p=117167 u=marek n=ansible | TASK [Sprawd≈∫ parametry dla archive] ************************************************************************************************
2025-10-14 13:06:40,783 p=117167 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:40,789 p=117167 u=marek n=ansible | TASK [Sprawd≈∫ parametry dla extract] ************************************************************************************************
2025-10-14 13:06:40,809 p=117167 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:40,813 p=117167 u=marek n=ansible | TASK [Wy≈õwietl informacje o akcji] **************************************************************************************************
2025-10-14 13:06:40,837 p=117167 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === BACKUP MODULE ===
    Akcja: EXTRACT
    ≈πr√≥d≈Ço (lokalny): ./test-backup/test-docs.tar.gz
    Cel (zdalny): /tmp/restore-test
    Host: localhost
    Katalog tymczasowy: /tmp
2025-10-14 13:06:40,847 p=117167 u=marek n=ansible | TASK [Sprawd≈∫ czy katalog ≈∫r√≥d≈Çowy istnieje] ****************************************************************************************
2025-10-14 13:06:40,867 p=117167 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:40,873 p=117167 u=marek n=ansible | TASK [B≈ÇƒÖd - katalog ≈∫r√≥d≈Çowy nie istnieje] *****************************************************************************************
2025-10-14 13:06:40,891 p=117167 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:40,895 p=117167 u=marek n=ansible | TASK [Sprawd≈∫ rozmiar katalogu ≈∫r√≥d≈Çowego] ******************************************************************************************
2025-10-14 13:06:40,914 p=117167 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:40,919 p=117167 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôpne miejsce w /tmp] **********************************************************************************************
2025-10-14 13:06:40,936 p=117167 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:40,942 p=117167 u=marek n=ansible | TASK [Ustaw przyk≈Çadowe warto≈õci dla dry-run] ***************************************************************************************
2025-10-14 13:06:40,961 p=117167 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:40,965 p=117167 u=marek n=ansible | TASK [Oblicz wymagane miejsce (z marginesem 20%)] ***********************************************************************************
2025-10-14 13:06:40,982 p=117167 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:40,986 p=117167 u=marek n=ansible | TASK [Wy≈õwietl informacje o miejscu] ************************************************************************************************
2025-10-14 13:06:41,006 p=117167 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:41,012 p=117167 u=marek n=ansible | TASK [Sprawd≈∫ czy wystarczy miejsca] ************************************************************************************************
2025-10-14 13:06:41,029 p=117167 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:41,035 p=117167 u=marek n=ansible | TASK [Utw√≥rz lokalny katalog docelowy] **********************************************************************************************
2025-10-14 13:06:41,061 p=117167 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:41,065 p=117167 u=marek n=ansible | TASK [Utw√≥rz archiwum tar.gz na zdalnym serwerze] ***********************************************************************************
2025-10-14 13:06:41,081 p=117167 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:41,085 p=117167 u=marek n=ansible | TASK [Sprawd≈∫ czy archiwum zosta≈Ço utworzone] ***************************************************************************************
2025-10-14 13:06:41,101 p=117167 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:41,105 p=117167 u=marek n=ansible | TASK [B≈ÇƒÖd - nie uda≈Ço siƒô utworzyƒá archiwum] ***************************************************************************************
2025-10-14 13:06:41,126 p=117167 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:41,130 p=117167 u=marek n=ansible | TASK [Pobierz archiwum na localhost] ************************************************************************************************
2025-10-14 13:06:41,150 p=117167 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:41,155 p=117167 u=marek n=ansible | TASK [Usu≈Ñ tymczasowe archiwum ze zdalnego serwera] *********************************************************************************
2025-10-14 13:06:41,172 p=117167 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:41,177 p=117167 u=marek n=ansible | TASK [Sprawd≈∫ rozmiar pobranego archiwum] *******************************************************************************************
2025-10-14 13:06:41,200 p=117167 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:41,205 p=117167 u=marek n=ansible | TASK [Wy≈õwietl podsumowanie archiwizacji] *******************************************************************************************
2025-10-14 13:06:41,222 p=117167 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:41,227 p=117167 u=marek n=ansible | TASK [Sprawd≈∫ czy plik archiwum istnieje lokalnie] **********************************************************************************
2025-10-14 13:06:41,401 p=117167 u=marek n=ansible | ok: [localhost]
2025-10-14 13:06:41,405 p=117167 u=marek n=ansible | TASK [B≈ÇƒÖd - plik archiwum nie istnieje] ********************************************************************************************
2025-10-14 13:06:41,427 p=117167 u=marek n=ansible | fatal: [localhost]: FAILED! => changed=false 
  msg: Plik archiwum ./test-backup/test-docs.tar.gz nie istnieje na localhost
2025-10-14 13:06:41,427 p=117167 u=marek n=ansible | PLAY RECAP **************************************************************************************************************************
2025-10-14 13:06:41,428 p=117167 u=marek n=ansible | localhost                  : ok=3    changed=0    unreachable=0    failed=1    skipped=19   rescued=0    ignored=0   
2025-10-14 13:06:56,230 p=117455 u=marek n=ansible | PLAY [BACKUP MODULE - ZarzƒÖdzanie archiwami] ****************************************************************************************
2025-10-14 13:06:56,234 p=117455 u=marek n=ansible | TASK [Gathering Facts] **************************************************************************************************************
2025-10-14 13:06:56,898 p=117455 u=marek n=ansible | ok: [localhost]
2025-10-14 13:06:56,902 p=117455 u=marek n=ansible | TASK [Sprawd≈∫ czy podano akcjƒô] *****************************************************************************************************
2025-10-14 13:06:56,920 p=117455 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:56,925 p=117455 u=marek n=ansible | TASK [Sprawd≈∫ parametry dla archive] ************************************************************************************************
2025-10-14 13:06:56,945 p=117455 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:56,949 p=117455 u=marek n=ansible | TASK [Sprawd≈∫ parametry dla extract] ************************************************************************************************
2025-10-14 13:06:56,967 p=117455 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:56,972 p=117455 u=marek n=ansible | TASK [Wy≈õwietl informacje o akcji] **************************************************************************************************
2025-10-14 13:06:56,996 p=117455 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === BACKUP MODULE ===
    Akcja: EXTRACT
    ≈πr√≥d≈Ço (lokalny): ./test-backup/test-docs.tar.gz
    Cel (zdalny): /tmp/restore-test
    Host: localhost
    Katalog tymczasowy: /tmp
2025-10-14 13:06:57,006 p=117455 u=marek n=ansible | TASK [Sprawd≈∫ czy katalog ≈∫r√≥d≈Çowy istnieje] ****************************************************************************************
2025-10-14 13:06:57,026 p=117455 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:57,030 p=117455 u=marek n=ansible | TASK [B≈ÇƒÖd - katalog ≈∫r√≥d≈Çowy nie istnieje] *****************************************************************************************
2025-10-14 13:06:57,051 p=117455 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:57,055 p=117455 u=marek n=ansible | TASK [Sprawd≈∫ rozmiar katalogu ≈∫r√≥d≈Çowego] ******************************************************************************************
2025-10-14 13:06:57,072 p=117455 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:57,079 p=117455 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôpne miejsce w /tmp] **********************************************************************************************
2025-10-14 13:06:57,098 p=117455 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:57,103 p=117455 u=marek n=ansible | TASK [Ustaw przyk≈Çadowe warto≈õci dla dry-run] ***************************************************************************************
2025-10-14 13:06:57,123 p=117455 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:57,128 p=117455 u=marek n=ansible | TASK [Oblicz wymagane miejsce (z marginesem 20%)] ***********************************************************************************
2025-10-14 13:06:57,150 p=117455 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:57,154 p=117455 u=marek n=ansible | TASK [Wy≈õwietl informacje o miejscu] ************************************************************************************************
2025-10-14 13:06:57,175 p=117455 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:57,180 p=117455 u=marek n=ansible | TASK [Sprawd≈∫ czy wystarczy miejsca] ************************************************************************************************
2025-10-14 13:06:57,200 p=117455 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:57,206 p=117455 u=marek n=ansible | TASK [Utw√≥rz lokalny katalog docelowy] **********************************************************************************************
2025-10-14 13:06:57,230 p=117455 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:57,234 p=117455 u=marek n=ansible | TASK [Utw√≥rz archiwum tar.gz na zdalnym serwerze] ***********************************************************************************
2025-10-14 13:06:57,252 p=117455 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:57,258 p=117455 u=marek n=ansible | TASK [Sprawd≈∫ czy archiwum zosta≈Ço utworzone] ***************************************************************************************
2025-10-14 13:06:57,279 p=117455 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:57,283 p=117455 u=marek n=ansible | TASK [B≈ÇƒÖd - nie uda≈Ço siƒô utworzyƒá archiwum] ***************************************************************************************
2025-10-14 13:06:57,300 p=117455 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:57,306 p=117455 u=marek n=ansible | TASK [Pobierz archiwum na localhost] ************************************************************************************************
2025-10-14 13:06:57,328 p=117455 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:57,334 p=117455 u=marek n=ansible | TASK [Usu≈Ñ tymczasowe archiwum ze zdalnego serwera] *********************************************************************************
2025-10-14 13:06:57,351 p=117455 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:57,357 p=117455 u=marek n=ansible | TASK [Sprawd≈∫ rozmiar pobranego archiwum] *******************************************************************************************
2025-10-14 13:06:57,381 p=117455 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:57,386 p=117455 u=marek n=ansible | TASK [Wy≈õwietl podsumowanie archiwizacji] *******************************************************************************************
2025-10-14 13:06:57,403 p=117455 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:06:57,409 p=117455 u=marek n=ansible | TASK [Debug ≈õcie≈ºki archiwum] *******************************************************************************************************
2025-10-14 13:06:57,434 p=117455 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    Sprawdzam ≈õcie≈ºki:
    backup_source: ./test-backup/test-docs.tar.gz
    absolute_source_path: /home/marek/CODE/ansible-automation-linux/playbooks/./test-backup/test-docs.tar.gz
    playbook_dir: /home/marek/CODE/ansible-automation-linux/playbooks
2025-10-14 13:06:57,438 p=117455 u=marek n=ansible | TASK [Sprawd≈∫ czy plik archiwum istnieje lokalnie] **********************************************************************************
2025-10-14 13:06:57,619 p=117455 u=marek n=ansible | ok: [localhost]
2025-10-14 13:06:57,623 p=117455 u=marek n=ansible | TASK [B≈ÇƒÖd - plik archiwum nie istnieje] ********************************************************************************************
2025-10-14 13:06:57,664 p=117455 u=marek n=ansible | fatal: [localhost]: FAILED! => changed=false 
  msg: 'Plik archiwum ./test-backup/test-docs.tar.gz nie istnieje na localhost (sprawdzano: /home/marek/CODE/ansible-automation-linux/playbooks/./test-backup/test-docs.tar.gz)'
2025-10-14 13:06:57,665 p=117455 u=marek n=ansible | PLAY RECAP **************************************************************************************************************************
2025-10-14 13:06:57,665 p=117455 u=marek n=ansible | localhost                  : ok=4    changed=0    unreachable=0    failed=1    skipped=19   rescued=0    ignored=0   
2025-10-14 13:07:21,175 p=117728 u=marek n=ansible | PLAY [BACKUP MODULE - ZarzƒÖdzanie archiwami] ****************************************************************************************
2025-10-14 13:07:21,179 p=117728 u=marek n=ansible | TASK [Gathering Facts] **************************************************************************************************************
2025-10-14 13:07:21,855 p=117728 u=marek n=ansible | ok: [localhost]
2025-10-14 13:07:21,858 p=117728 u=marek n=ansible | TASK [Sprawd≈∫ czy podano akcjƒô] *****************************************************************************************************
2025-10-14 13:07:21,876 p=117728 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:07:21,880 p=117728 u=marek n=ansible | TASK [Sprawd≈∫ parametry dla archive] ************************************************************************************************
2025-10-14 13:07:21,900 p=117728 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:07:21,905 p=117728 u=marek n=ansible | TASK [Sprawd≈∫ parametry dla extract] ************************************************************************************************
2025-10-14 13:07:21,925 p=117728 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:07:21,930 p=117728 u=marek n=ansible | TASK [Wy≈õwietl informacje o akcji] **************************************************************************************************
2025-10-14 13:07:21,953 p=117728 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === BACKUP MODULE ===
    Akcja: EXTRACT
    ≈πr√≥d≈Ço (lokalny): ./test-backup/test-docs.tar.gz
    Cel (zdalny): /tmp/restore-test
    Host: localhost
    Katalog tymczasowy: /tmp
2025-10-14 13:07:21,963 p=117728 u=marek n=ansible | TASK [Sprawd≈∫ czy katalog ≈∫r√≥d≈Çowy istnieje] ****************************************************************************************
2025-10-14 13:07:21,983 p=117728 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:07:21,990 p=117728 u=marek n=ansible | TASK [B≈ÇƒÖd - katalog ≈∫r√≥d≈Çowy nie istnieje] *****************************************************************************************
2025-10-14 13:07:22,009 p=117728 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:07:22,013 p=117728 u=marek n=ansible | TASK [Sprawd≈∫ rozmiar katalogu ≈∫r√≥d≈Çowego] ******************************************************************************************
2025-10-14 13:07:22,032 p=117728 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:07:22,038 p=117728 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôpne miejsce w /tmp] **********************************************************************************************
2025-10-14 13:07:22,055 p=117728 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:07:22,060 p=117728 u=marek n=ansible | TASK [Ustaw przyk≈Çadowe warto≈õci dla dry-run] ***************************************************************************************
2025-10-14 13:07:22,078 p=117728 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:07:22,082 p=117728 u=marek n=ansible | TASK [Oblicz wymagane miejsce (z marginesem 20%)] ***********************************************************************************
2025-10-14 13:07:22,102 p=117728 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:07:22,108 p=117728 u=marek n=ansible | TASK [Wy≈õwietl informacje o miejscu] ************************************************************************************************
2025-10-14 13:07:22,128 p=117728 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:07:22,133 p=117728 u=marek n=ansible | TASK [Sprawd≈∫ czy wystarczy miejsca] ************************************************************************************************
2025-10-14 13:07:22,149 p=117728 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:07:22,155 p=117728 u=marek n=ansible | TASK [Utw√≥rz lokalny katalog docelowy] **********************************************************************************************
2025-10-14 13:07:22,176 p=117728 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:07:22,180 p=117728 u=marek n=ansible | TASK [Utw√≥rz archiwum tar.gz na zdalnym serwerze] ***********************************************************************************
2025-10-14 13:07:22,197 p=117728 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:07:22,200 p=117728 u=marek n=ansible | TASK [Sprawd≈∫ czy archiwum zosta≈Ço utworzone] ***************************************************************************************
2025-10-14 13:07:22,217 p=117728 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:07:22,223 p=117728 u=marek n=ansible | TASK [B≈ÇƒÖd - nie uda≈Ço siƒô utworzyƒá archiwum] ***************************************************************************************
2025-10-14 13:07:22,244 p=117728 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:07:22,248 p=117728 u=marek n=ansible | TASK [Pobierz archiwum na localhost] ************************************************************************************************
2025-10-14 13:07:22,266 p=117728 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:07:22,274 p=117728 u=marek n=ansible | TASK [Usu≈Ñ tymczasowe archiwum ze zdalnego serwera] *********************************************************************************
2025-10-14 13:07:22,292 p=117728 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:07:22,296 p=117728 u=marek n=ansible | TASK [Sprawd≈∫ rozmiar pobranego archiwum] *******************************************************************************************
2025-10-14 13:07:22,318 p=117728 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:07:22,322 p=117728 u=marek n=ansible | TASK [Wy≈õwietl podsumowanie archiwizacji] *******************************************************************************************
2025-10-14 13:07:22,342 p=117728 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:07:22,346 p=117728 u=marek n=ansible | TASK [Debug ≈õcie≈ºki archiwum] *******************************************************************************************************
2025-10-14 13:07:22,368 p=117728 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    Sprawdzam ≈õcie≈ºki:
    backup_source: ./test-backup/test-docs.tar.gz
    absolute_source_path: /home/marek/CODE/ansible-automation-linux/./test-backup/test-docs.tar.gz
    playbook_dir: /home/marek/CODE/ansible-automation-linux/playbooks
2025-10-14 13:07:22,372 p=117728 u=marek n=ansible | TASK [Sprawd≈∫ czy plik archiwum istnieje lokalnie] **********************************************************************************
2025-10-14 13:07:22,564 p=117728 u=marek n=ansible | ok: [localhost]
2025-10-14 13:07:22,568 p=117728 u=marek n=ansible | TASK [B≈ÇƒÖd - plik archiwum nie istnieje] ********************************************************************************************
2025-10-14 13:07:22,607 p=117728 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:07:22,630 p=117728 u=marek n=ansible | TASK [Utw√≥rz katalog docelowy na zdalnym serwerze] **********************************************************************************
2025-10-14 13:07:22,799 p=117728 u=marek n=ansible | [0;31m--- before[0m
[0;31m[0m[0;32m+++ after[0m
[0;32m[0m[0;36m@@ -1,2 +1,2 @@[0m
[0;36m[0m path: /tmp/restore-test
[0;31m-state: absent[0m
[0;31m[0m[0;32m+state: directory[0m
[0;32m[0m

2025-10-14 13:07:22,799 p=117728 u=marek n=ansible | changed: [localhost]
2025-10-14 13:07:22,803 p=117728 u=marek n=ansible | TASK [Wygeneruj nazwƒô tymczasowego pliku] *******************************************************************************************
2025-10-14 13:07:22,823 p=117728 u=marek n=ansible | ok: [localhost]
2025-10-14 13:07:22,828 p=117728 u=marek n=ansible | TASK [Skopiuj archiwum na zdalny serwer] ********************************************************************************************
2025-10-14 13:07:23,029 p=117728 u=marek n=ansible | diff skipped: source file appears to be binary

2025-10-14 13:07:23,029 p=117728 u=marek n=ansible | changed: [localhost]
2025-10-14 13:07:23,033 p=117728 u=marek n=ansible | TASK [Sprawd≈∫ zawarto≈õƒá archiwum] ***************************************************************************************************
2025-10-14 13:07:23,192 p=117728 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:07:23,196 p=117728 u=marek n=ansible | TASK [Wy≈õwietl zawarto≈õƒá archiwum] **************************************************************************************************
2025-10-14 13:07:23,218 p=117728 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === ZAWARTO≈öƒÜ ARCHIWUM ===
2025-10-14 13:07:23,222 p=117728 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôpne miejsce dla ekstraktowania] **********************************************************************************
2025-10-14 13:07:23,335 p=117728 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:07:23,340 p=117728 u=marek n=ansible | TASK [Rozpakuj archiwum] ************************************************************************************************************
2025-10-14 13:07:23,453 p=117728 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:07:23,458 p=117728 u=marek n=ansible | TASK [Usu≈Ñ tymczasowe archiwum] *****************************************************************************************************
2025-10-14 13:07:23,576 p=117728 u=marek n=ansible | ok: [localhost]
2025-10-14 13:07:23,580 p=117728 u=marek n=ansible | TASK [Sprawd≈∫ wyniki ekstraktowania] ************************************************************************************************
2025-10-14 13:07:23,736 p=117728 u=marek n=ansible | [WARNING]: Skipped '/tmp/restore-test' path due to this access issue: '/tmp/restore-test' is not a directory

2025-10-14 13:07:23,736 p=117728 u=marek n=ansible | ok: [localhost]
2025-10-14 13:07:23,740 p=117728 u=marek n=ansible | TASK [Wy≈õwietl podsumowanie ekstraktowania] *****************************************************************************************
2025-10-14 13:07:23,763 p=117728 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === EKSTRAKTOWANIE ZAKO≈ÉCZONE ===
    Archiwum: ./test-backup/test-docs.tar.gz
    Cel: /tmp/restore-test
    Wyekstraktowano: 0 plik√≥w/katalog√≥w
    Dostƒôpne miejsce: 0.0 GB
    Status: ‚úÖ Sukces
2025-10-14 13:07:23,766 p=117728 u=marek n=ansible | TASK [Wy≈õwietl instrukcje] **********************************************************************************************************
2025-10-14 13:07:23,773 p=117728 u=marek n=ansible | ok: [localhost] => 
  msg: "=== INSTRUKCJE BACKUP MODULE ===\n\n\U0001F4E6 TWORZENIE KOPII ZAPASOWEJ (ARCHIVE):\n./run-automation.sh backup -e \"task_action=archive source=/path/to/backup target=./backup\"\n\n\U0001F4C2 PRZYWRACANIE Z KOPII (EXTRACT):\n./run-automation.sh backup -e \"task_action=extract source=./backup/file.tar.gz target=/path/to/restore\"\n\n\U0001F527 DODATKOWE OPCJE:\n- min_space=2: Minimalne miejsce w GB (domy≈õlnie 1)\n- compression=9: Poziom kompresji 1-9 (domy≈õlnie 6)\n- exclude=\"*.log,*.tmp\": Wzorce wyklucze≈Ñ\n\n\U0001F4CB PRZYK≈ÅADY:\n# Kopia Tomcat\n./run-automation.sh backup -e \"task_action=archive source=/opt/tomcat target=./backups\"\n\n# Przywr√≥ƒá Tomcat\n./run-automation.sh backup -e \"task_action=extract source=./backups/tomcat_server1_123456.tar.gz target=/opt/tomcat\"\n\n# Z wykluczeniami\n./run-automation.sh backup -e \"task_action=archive source=/var/www exclude='*.log,cache/*,*.tmp' target=./www-backup\""
2025-10-14 13:07:23,786 p=117728 u=marek n=ansible | PLAY RECAP **************************************************************************************************************************
2025-10-14 13:07:23,786 p=117728 u=marek n=ansible | localhost                  : ok=12   changed=2    unreachable=0    failed=0    skipped=23   rescued=0    ignored=0   
2025-10-14 13:08:01,086 p=118238 u=marek n=ansible | PLAY [BACKUP MODULE - ZarzƒÖdzanie archiwami] ****************************************************************************************
2025-10-14 13:08:01,090 p=118238 u=marek n=ansible | TASK [Gathering Facts] **************************************************************************************************************
2025-10-14 13:08:01,742 p=118238 u=marek n=ansible | ok: [localhost]
2025-10-14 13:08:01,745 p=118238 u=marek n=ansible | TASK [Sprawd≈∫ czy podano akcjƒô] *****************************************************************************************************
2025-10-14 13:08:01,763 p=118238 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:08:01,768 p=118238 u=marek n=ansible | TASK [Sprawd≈∫ parametry dla archive] ************************************************************************************************
2025-10-14 13:08:01,788 p=118238 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:08:01,793 p=118238 u=marek n=ansible | TASK [Sprawd≈∫ parametry dla extract] ************************************************************************************************
2025-10-14 13:08:01,814 p=118238 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:08:01,818 p=118238 u=marek n=ansible | TASK [Wy≈õwietl informacje o akcji] **************************************************************************************************
2025-10-14 13:08:01,841 p=118238 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === BACKUP MODULE ===
    Akcja: EXTRACT
    ≈πr√≥d≈Ço (lokalny): ./test-backup/test-docs.tar.gz
    Cel (zdalny): /tmp/restore-test
    Host: localhost
    Katalog tymczasowy: /tmp
2025-10-14 13:08:01,851 p=118238 u=marek n=ansible | TASK [Sprawd≈∫ czy katalog ≈∫r√≥d≈Çowy istnieje] ****************************************************************************************
2025-10-14 13:08:01,874 p=118238 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:08:01,879 p=118238 u=marek n=ansible | TASK [B≈ÇƒÖd - katalog ≈∫r√≥d≈Çowy nie istnieje] *****************************************************************************************
2025-10-14 13:08:01,898 p=118238 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:08:01,904 p=118238 u=marek n=ansible | TASK [Sprawd≈∫ rozmiar katalogu ≈∫r√≥d≈Çowego] ******************************************************************************************
2025-10-14 13:08:01,924 p=118238 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:08:01,928 p=118238 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôpne miejsce w /tmp] **********************************************************************************************
2025-10-14 13:08:01,947 p=118238 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:08:01,951 p=118238 u=marek n=ansible | TASK [Ustaw przyk≈Çadowe warto≈õci dla dry-run] ***************************************************************************************
2025-10-14 13:08:01,967 p=118238 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:08:01,972 p=118238 u=marek n=ansible | TASK [Oblicz wymagane miejsce (z marginesem 20%)] ***********************************************************************************
2025-10-14 13:08:01,989 p=118238 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:08:01,994 p=118238 u=marek n=ansible | TASK [Wy≈õwietl informacje o miejscu] ************************************************************************************************
2025-10-14 13:08:02,014 p=118238 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:08:02,019 p=118238 u=marek n=ansible | TASK [Sprawd≈∫ czy wystarczy miejsca] ************************************************************************************************
2025-10-14 13:08:02,036 p=118238 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:08:02,041 p=118238 u=marek n=ansible | TASK [Utw√≥rz lokalny katalog docelowy] **********************************************************************************************
2025-10-14 13:08:02,064 p=118238 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:08:02,068 p=118238 u=marek n=ansible | TASK [Utw√≥rz archiwum tar.gz na zdalnym serwerze] ***********************************************************************************
2025-10-14 13:08:02,086 p=118238 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:08:02,091 p=118238 u=marek n=ansible | TASK [Sprawd≈∫ czy archiwum zosta≈Ço utworzone] ***************************************************************************************
2025-10-14 13:08:02,111 p=118238 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:08:02,116 p=118238 u=marek n=ansible | TASK [B≈ÇƒÖd - nie uda≈Ço siƒô utworzyƒá archiwum] ***************************************************************************************
2025-10-14 13:08:02,134 p=118238 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:08:02,140 p=118238 u=marek n=ansible | TASK [Pobierz archiwum na localhost] ************************************************************************************************
2025-10-14 13:08:02,162 p=118238 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:08:02,167 p=118238 u=marek n=ansible | TASK [Usu≈Ñ tymczasowe archiwum ze zdalnego serwera] *********************************************************************************
2025-10-14 13:08:02,184 p=118238 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:08:02,190 p=118238 u=marek n=ansible | TASK [Sprawd≈∫ rozmiar pobranego archiwum] *******************************************************************************************
2025-10-14 13:08:02,214 p=118238 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:08:02,219 p=118238 u=marek n=ansible | TASK [Wy≈õwietl podsumowanie archiwizacji] *******************************************************************************************
2025-10-14 13:08:02,238 p=118238 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:08:02,243 p=118238 u=marek n=ansible | TASK [Sprawd≈∫ czy plik archiwum istnieje lokalnie] **********************************************************************************
2025-10-14 13:08:02,438 p=118238 u=marek n=ansible | ok: [localhost]
2025-10-14 13:08:02,443 p=118238 u=marek n=ansible | TASK [B≈ÇƒÖd - plik archiwum nie istnieje] ********************************************************************************************
2025-10-14 13:08:02,469 p=118238 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:08:02,473 p=118238 u=marek n=ansible | TASK [Utw√≥rz katalog docelowy na zdalnym serwerze] **********************************************************************************
2025-10-14 13:08:02,661 p=118238 u=marek n=ansible | [0;31m--- before[0m
[0;31m[0m[0;32m+++ after[0m
[0;32m[0m[0;36m@@ -1,2 +1,2 @@[0m
[0;36m[0m path: /tmp/restore-test
[0;31m-state: absent[0m
[0;31m[0m[0;32m+state: directory[0m
[0;32m[0m

2025-10-14 13:08:02,661 p=118238 u=marek n=ansible | changed: [localhost]
2025-10-14 13:08:02,678 p=118238 u=marek n=ansible | TASK [Wygeneruj nazwƒô tymczasowego pliku] *******************************************************************************************
2025-10-14 13:08:02,700 p=118238 u=marek n=ansible | ok: [localhost]
2025-10-14 13:08:02,705 p=118238 u=marek n=ansible | TASK [Skopiuj archiwum na zdalny serwer] ********************************************************************************************
2025-10-14 13:08:02,908 p=118238 u=marek n=ansible | diff skipped: source file appears to be binary

2025-10-14 13:08:02,908 p=118238 u=marek n=ansible | changed: [localhost]
2025-10-14 13:08:02,912 p=118238 u=marek n=ansible | TASK [Sprawd≈∫ zawarto≈õƒá archiwum] ***************************************************************************************************
2025-10-14 13:08:02,931 p=118238 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:08:02,937 p=118238 u=marek n=ansible | TASK [Wy≈õwietl zawarto≈õƒá archiwum] **************************************************************************************************
2025-10-14 13:08:02,958 p=118238 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === ZAWARTO≈öƒÜ ARCHIWUM ===
    Zawarto≈õƒá bƒôdzie sprawdzona po skopiowaniu archiwum
2025-10-14 13:08:02,962 p=118238 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôpne miejsce dla ekstraktowania] **********************************************************************************
2025-10-14 13:08:02,983 p=118238 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:08:02,988 p=118238 u=marek n=ansible | TASK [Ustaw przyk≈Çadowe warto≈õci dla extract dry-run] *******************************************************************************
2025-10-14 13:08:03,011 p=118238 u=marek n=ansible | ok: [localhost]
2025-10-14 13:08:03,016 p=118238 u=marek n=ansible | TASK [Rozpakuj archiwum] ************************************************************************************************************
2025-10-14 13:08:03,034 p=118238 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:08:03,038 p=118238 u=marek n=ansible | TASK [Usu≈Ñ tymczasowe archiwum] *****************************************************************************************************
2025-10-14 13:08:03,059 p=118238 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:08:03,063 p=118238 u=marek n=ansible | TASK [Sprawd≈∫ wyniki ekstraktowania] ************************************************************************************************
2025-10-14 13:08:03,081 p=118238 u=marek n=ansible | skipping: [localhost]
2025-10-14 13:08:03,086 p=118238 u=marek n=ansible | TASK [Ustaw przyk≈Çadowe warto≈õci extracted_files dla dry-run] ***********************************************************************
2025-10-14 13:08:03,108 p=118238 u=marek n=ansible | ok: [localhost]
2025-10-14 13:08:03,112 p=118238 u=marek n=ansible | TASK [Wy≈õwietl podsumowanie ekstraktowania] *****************************************************************************************
2025-10-14 13:08:03,138 p=118238 u=marek n=ansible | ok: [localhost] => 
  msg: |-
    === EKSTRAKTOWANIE ZAKO≈ÉCZONE ===
    Archiwum: ./test-backup/test-docs.tar.gz
    Cel: /tmp/restore-test
    Wyekstraktowano: 42 plik√≥w/katalog√≥w
    Dostƒôpne miejsce: 10.0 GB
    Status: ‚úÖ Sukces
2025-10-14 13:08:03,142 p=118238 u=marek n=ansible | TASK [Wy≈õwietl instrukcje] **********************************************************************************************************
2025-10-14 13:08:03,148 p=118238 u=marek n=ansible | ok: [localhost] => 
  msg: "=== INSTRUKCJE BACKUP MODULE ===\n\n\U0001F4E6 TWORZENIE KOPII ZAPASOWEJ (ARCHIVE):\n./run-automation.sh backup -e \"task_action=archive source=/path/to/backup target=./backup\"\n\n\U0001F4C2 PRZYWRACANIE Z KOPII (EXTRACT):\n./run-automation.sh backup -e \"task_action=extract source=./backup/file.tar.gz target=/path/to/restore\"\n\n\U0001F527 DODATKOWE OPCJE:\n- min_space=2: Minimalne miejsce w GB (domy≈õlnie 1)\n- compression=9: Poziom kompresji 1-9 (domy≈õlnie 6)\n- exclude=\"*.log,*.tmp\": Wzorce wyklucze≈Ñ\n\n\U0001F4CB PRZYK≈ÅADY:\n# Kopia Tomcat\n./run-automation.sh backup -e \"task_action=archive source=/opt/tomcat target=./backups\"\n\n# Przywr√≥ƒá Tomcat\n./run-automation.sh backup -e \"task_action=extract source=./backups/tomcat_server1_123456.tar.gz target=/opt/tomcat\"\n\n# Z wykluczeniami\n./run-automation.sh backup -e \"task_action=archive source=/var/www exclude='*.log,cache/*,*.tmp' target=./www-backup\""
2025-10-14 13:08:03,164 p=118238 u=marek n=ansible | PLAY RECAP **************************************************************************************************************************
2025-10-14 13:08:03,164 p=118238 u=marek n=ansible | localhost                  : ok=11   changed=2    unreachable=0    failed=0    skipped=25   rescued=0    ignored=0   
2025-10-14 13:51:17,762 p=122016 u=marek n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the
implicit localhost does not match 'all'

2025-10-14 13:51:17,861 p=122016 u=marek n=ansible | PLAY [BACKUP MODULE - ZarzƒÖdzanie archiwami] **********************************************
2025-10-14 13:51:17,861 p=122016 u=marek n=ansible | skipping: no hosts matched
2025-10-14 13:51:17,861 p=122016 u=marek n=ansible | PLAY RECAP ********************************************************************************
2025-10-14 13:51:40,281 p=122052 u=marek n=ansible | PLAY [BACKUP MODULE - ZarzƒÖdzanie archiwami] **********************************************
2025-10-14 13:51:40,285 p=122052 u=marek n=ansible | TASK [Gathering Facts] ********************************************************************
2025-10-14 13:51:41,194 p=122052 u=marek n=ansible | ok: [192.168.1.54]
2025-10-14 13:51:41,196 p=122052 u=marek n=ansible | TASK [Sprawd≈∫ czy podano akcjƒô] ***********************************************************
2025-10-14 13:51:41,214 p=122052 u=marek n=ansible | fatal: [192.168.1.54]: FAILED! => changed=false 
  msg: |-
    Musisz podaƒá akcjƒô do wykonania!
    U≈ºyj: ./run-automation.sh backup -e "task_action=archive|extract"
  
    ARCHIVE - Tworzenie kopii zapasowej:
    ./run-automation.sh backup -e "task_action=archive source=/path/to/backup target=./local/backup/dir"
  
    EXTRACT - Przywracanie z kopii:
    ./run-automation.sh backup -e "task_action=extract source=./backup.tar.gz target=/path/to/restore"
2025-10-14 13:51:41,214 p=122052 u=marek n=ansible | PLAY RECAP ********************************************************************************
2025-10-14 13:51:41,215 p=122052 u=marek n=ansible | 192.168.1.54               : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-10-14 13:51:59,372 p=122093 u=marek n=ansible | PLAY [BACKUP MODULE - ZarzƒÖdzanie archiwami] **********************************************
2025-10-14 13:51:59,376 p=122093 u=marek n=ansible | TASK [Gathering Facts] ********************************************************************
2025-10-14 13:52:00,107 p=122093 u=marek n=ansible | ok: [192.168.1.54]
2025-10-14 13:52:00,109 p=122093 u=marek n=ansible | TASK [Sprawd≈∫ czy podano akcjƒô] ***********************************************************
2025-10-14 13:52:00,126 p=122093 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-14 13:52:00,128 p=122093 u=marek n=ansible | TASK [Sprawd≈∫ parametry dla archive] ******************************************************
2025-10-14 13:52:00,145 p=122093 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-14 13:52:00,147 p=122093 u=marek n=ansible | TASK [Sprawd≈∫ parametry dla extract] ******************************************************
2025-10-14 13:52:00,164 p=122093 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-14 13:52:00,166 p=122093 u=marek n=ansible | TASK [Wy≈õwietl informacje o akcji] ********************************************************
2025-10-14 13:52:00,188 p=122093 u=marek n=ansible | ok: [192.168.1.54] => 
  msg: |-
    === BACKUP MODULE ===
    Akcja: ARCHIVE
    ≈πr√≥d≈Ço (zdalny): /home/marek/testcopy
    Cel (lokalny): /home/marek/
    Archiwum: testcopy_192.168.1.54_1760442720.tar.gz
    Host: 192.168.1.54
    Katalog tymczasowy: /tmp
2025-10-14 13:52:00,192 p=122093 u=marek n=ansible | TASK [Sprawd≈∫ czy katalog ≈∫r√≥d≈Çowy istnieje] **********************************************
2025-10-14 13:52:00,367 p=122093 u=marek n=ansible | ok: [192.168.1.54]
2025-10-14 13:52:00,369 p=122093 u=marek n=ansible | TASK [B≈ÇƒÖd - katalog ≈∫r√≥d≈Çowy nie istnieje] ***********************************************
2025-10-14 13:52:00,388 p=122093 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-14 13:52:00,390 p=122093 u=marek n=ansible | TASK [Sprawd≈∫ rozmiar katalogu ≈∫r√≥d≈Çowego] ************************************************
2025-10-14 13:52:00,560 p=122093 u=marek n=ansible | ok: [192.168.1.54]
2025-10-14 13:52:00,564 p=122093 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôpne miejsce w /tmp] ****************************************************
2025-10-14 13:52:00,692 p=122093 u=marek n=ansible | ok: [192.168.1.54]
2025-10-14 13:52:00,695 p=122093 u=marek n=ansible | TASK [Ustaw przyk≈Çadowe warto≈õci dla dry-run] *********************************************
2025-10-14 13:52:00,711 p=122093 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-14 13:52:00,714 p=122093 u=marek n=ansible | TASK [Oblicz wymagane miejsce (z marginesem 20%)] *****************************************
2025-10-14 13:52:00,734 p=122093 u=marek n=ansible | ok: [192.168.1.54]
2025-10-14 13:52:00,737 p=122093 u=marek n=ansible | TASK [Wy≈õwietl informacje o miejscu] ******************************************************
2025-10-14 13:52:00,754 p=122093 u=marek n=ansible | ok: [192.168.1.54] => 
  msg: |-
    === ANALIZA MIEJSCA NA DYSKU ===
    Rozmiar ≈∫r√≥d≈Ça: 0.0 GB
    Dostƒôpne miejsce: 13.55 GB
    Wymagane miejsce: 0.0 GB (z marginesem)
    Minimalne wymaganie: 1 GB
2025-10-14 13:52:00,757 p=122093 u=marek n=ansible | TASK [Sprawd≈∫ czy wystarczy miejsca] ******************************************************
2025-10-14 13:52:00,773 p=122093 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-14 13:52:00,776 p=122093 u=marek n=ansible | TASK [Utw√≥rz lokalny katalog docelowy] ****************************************************
2025-10-14 13:52:00,936 p=122093 u=marek n=ansible | changed: [192.168.1.54 -> localhost]
2025-10-14 13:52:00,939 p=122093 u=marek n=ansible | TASK [Utw√≥rz archiwum tar.gz na zdalnym serwerze] *****************************************
2025-10-14 13:52:01,076 p=122093 u=marek n=ansible | changed: [192.168.1.54]
2025-10-14 13:52:01,078 p=122093 u=marek n=ansible | TASK [Sprawd≈∫ czy archiwum zosta≈Ço utworzone] *********************************************
2025-10-14 13:52:01,212 p=122093 u=marek n=ansible | ok: [192.168.1.54]
2025-10-14 13:52:01,215 p=122093 u=marek n=ansible | TASK [B≈ÇƒÖd - nie uda≈Ço siƒô utworzyƒá archiwum] *********************************************
2025-10-14 13:52:01,233 p=122093 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-14 13:52:01,236 p=122093 u=marek n=ansible | TASK [Pobierz archiwum na localhost] ******************************************************
2025-10-14 13:52:01,404 p=122093 u=marek n=ansible | changed: [192.168.1.54]
2025-10-14 13:52:01,407 p=122093 u=marek n=ansible | TASK [Usu≈Ñ tymczasowe archiwum ze zdalnego serwera] ***************************************
2025-10-14 13:52:01,537 p=122093 u=marek n=ansible | changed: [192.168.1.54]
2025-10-14 13:52:01,539 p=122093 u=marek n=ansible | TASK [Sprawd≈∫ rozmiar pobranego archiwum] *************************************************
2025-10-14 13:52:01,656 p=122093 u=marek n=ansible | ok: [192.168.1.54 -> localhost]
2025-10-14 13:52:01,658 p=122093 u=marek n=ansible | TASK [Wy≈õwietl podsumowanie archiwizacji] *************************************************
2025-10-14 13:52:01,685 p=122093 u=marek n=ansible | ok: [192.168.1.54] => 
  msg: |-
    === ARCHIWIZACJA ZAKO≈ÉCZONA ===
    ≈πr√≥d≈Ço: /home/marek/testcopy (0.0 GB)
    Archiwum: /home/marek//testcopy_192.168.1.54_1760442720.tar.gz
    Rozmiar archiwum: 0.0 MB
    Kompresja: -261.7%
    Status: ‚úÖ Sukces
2025-10-14 13:52:01,688 p=122093 u=marek n=ansible | TASK [Sprawd≈∫ czy plik archiwum istnieje lokalnie] ****************************************
2025-10-14 13:52:01,705 p=122093 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-14 13:52:01,707 p=122093 u=marek n=ansible | TASK [B≈ÇƒÖd - plik archiwum nie istnieje] **************************************************
2025-10-14 13:52:01,725 p=122093 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-14 13:52:01,727 p=122093 u=marek n=ansible | TASK [Utw√≥rz katalog docelowy na zdalnym serwerze] ****************************************
2025-10-14 13:52:01,745 p=122093 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-14 13:52:01,748 p=122093 u=marek n=ansible | TASK [Wygeneruj nazwƒô tymczasowego pliku] *************************************************
2025-10-14 13:52:01,765 p=122093 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-14 13:52:01,767 p=122093 u=marek n=ansible | TASK [Skopiuj archiwum na zdalny serwer] **************************************************
2025-10-14 13:52:01,783 p=122093 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-14 13:52:01,785 p=122093 u=marek n=ansible | TASK [Sprawd≈∫ zawarto≈õƒá archiwum] *********************************************************
2025-10-14 13:52:01,801 p=122093 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-14 13:52:01,804 p=122093 u=marek n=ansible | TASK [Wy≈õwietl zawarto≈õƒá archiwum] ********************************************************
2025-10-14 13:52:01,820 p=122093 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-14 13:52:01,822 p=122093 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôpne miejsce dla ekstraktowania] ****************************************
2025-10-14 13:52:01,839 p=122093 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-14 13:52:01,841 p=122093 u=marek n=ansible | TASK [Ustaw przyk≈Çadowe warto≈õci dla extract dry-run] *************************************
2025-10-14 13:52:01,857 p=122093 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-14 13:52:01,860 p=122093 u=marek n=ansible | TASK [Rozpakuj archiwum] ******************************************************************
2025-10-14 13:52:01,876 p=122093 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-14 13:52:01,878 p=122093 u=marek n=ansible | TASK [Usu≈Ñ tymczasowe archiwum] ***********************************************************
2025-10-14 13:52:01,895 p=122093 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-14 13:52:01,897 p=122093 u=marek n=ansible | TASK [Sprawd≈∫ wyniki ekstraktowania] ******************************************************
2025-10-14 13:52:01,913 p=122093 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-14 13:52:01,916 p=122093 u=marek n=ansible | TASK [Ustaw przyk≈Çadowe warto≈õci extracted_files dla dry-run] *****************************
2025-10-14 13:52:01,934 p=122093 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-14 13:52:01,936 p=122093 u=marek n=ansible | TASK [Wy≈õwietl podsumowanie ekstraktowania] ***********************************************
2025-10-14 13:52:01,951 p=122093 u=marek n=ansible | skipping: [192.168.1.54]
2025-10-14 13:52:01,953 p=122093 u=marek n=ansible | TASK [Wy≈õwietl instrukcje] ****************************************************************
2025-10-14 13:52:01,961 p=122093 u=marek n=ansible | ok: [192.168.1.54] => 
  msg: "=== INSTRUKCJE BACKUP MODULE ===\n\n\U0001F4E6 TWORZENIE KOPII ZAPASOWEJ (ARCHIVE):\n./run-automation.sh backup -e \"task_action=archive source=/path/to/backup target=./backup\"\n\n\U0001F4C2 PRZYWRACANIE Z KOPII (EXTRACT):\n./run-automation.sh backup -e \"task_action=extract source=./backup/file.tar.gz target=/path/to/restore\"\n\n\U0001F527 DODATKOWE OPCJE:\n- min_space=2: Minimalne miejsce w GB (domy≈õlnie 1)\n- compression=9: Poziom kompresji 1-9 (domy≈õlnie 6)\n- exclude=\"*.log,*.tmp\": Wzorce wyklucze≈Ñ\n\n\U0001F4CB PRZYK≈ÅADY:\n# Kopia Tomcat\n./run-automation.sh backup -e \"task_action=archive source=/opt/tomcat target=./backups\"\n\n# Przywr√≥ƒá Tomcat\n./run-automation.sh backup -e \"task_action=extract source=./backups/tomcat_server1_123456.tar.gz target=/opt/tomcat\"\n\n# Z wykluczeniami\n./run-automation.sh backup -e \"task_action=archive source=/var/www exclude='*.log,cache/*,*.tmp' target=./www-backup\""
2025-10-14 13:52:01,967 p=122093 u=marek n=ansible | PLAY RECAP ********************************************************************************
2025-10-14 13:52:01,967 p=122093 u=marek n=ansible | 192.168.1.54               : ok=15   changed=4    unreachable=0    failed=0    skipped=21   rescued=0    ignored=0   
2025-10-14 13:52:54,791 p=122245 u=marek n=ansible | PLAY [BACKUP MODULE - ZarzƒÖdzanie archiwami] **********************************************
2025-10-14 13:52:54,795 p=122245 u=marek n=ansible | TASK [Gathering Facts] ********************************************************************
2025-10-14 13:52:55,796 p=122245 u=marek n=ansible | ok: [192.168.1.144]
2025-10-14 13:52:55,799 p=122245 u=marek n=ansible | TASK [Sprawd≈∫ czy podano akcjƒô] ***********************************************************
2025-10-14 13:52:55,815 p=122245 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:52:55,817 p=122245 u=marek n=ansible | TASK [Sprawd≈∫ parametry dla archive] ******************************************************
2025-10-14 13:52:55,833 p=122245 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:52:55,836 p=122245 u=marek n=ansible | TASK [Sprawd≈∫ parametry dla extract] ******************************************************
2025-10-14 13:52:55,853 p=122245 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:52:55,856 p=122245 u=marek n=ansible | TASK [Wy≈õwietl informacje o akcji] ********************************************************
2025-10-14 13:52:55,877 p=122245 u=marek n=ansible | ok: [192.168.1.144] => 
  msg: |-
    === BACKUP MODULE ===
    Akcja: EXTRACT
    ≈πr√≥d≈Ço (lokalny): /home/marek/testcopy
    Cel (zdalny): /home/marek/testcopy_extract
    Host: 192.168.1.144
    Katalog tymczasowy: /tmp
2025-10-14 13:52:55,882 p=122245 u=marek n=ansible | TASK [Sprawd≈∫ czy katalog ≈∫r√≥d≈Çowy istnieje] **********************************************
2025-10-14 13:52:55,898 p=122245 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:52:55,901 p=122245 u=marek n=ansible | TASK [B≈ÇƒÖd - katalog ≈∫r√≥d≈Çowy nie istnieje] ***********************************************
2025-10-14 13:52:55,918 p=122245 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:52:55,920 p=122245 u=marek n=ansible | TASK [Sprawd≈∫ rozmiar katalogu ≈∫r√≥d≈Çowego] ************************************************
2025-10-14 13:52:55,938 p=122245 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:52:55,942 p=122245 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôpne miejsce w /tmp] ****************************************************
2025-10-14 13:52:55,957 p=122245 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:52:55,960 p=122245 u=marek n=ansible | TASK [Ustaw przyk≈Çadowe warto≈õci dla dry-run] *********************************************
2025-10-14 13:52:55,976 p=122245 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:52:55,978 p=122245 u=marek n=ansible | TASK [Oblicz wymagane miejsce (z marginesem 20%)] *****************************************
2025-10-14 13:52:55,994 p=122245 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:52:55,996 p=122245 u=marek n=ansible | TASK [Wy≈õwietl informacje o miejscu] ******************************************************
2025-10-14 13:52:56,013 p=122245 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:52:56,015 p=122245 u=marek n=ansible | TASK [Sprawd≈∫ czy wystarczy miejsca] ******************************************************
2025-10-14 13:52:56,030 p=122245 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:52:56,033 p=122245 u=marek n=ansible | TASK [Utw√≥rz lokalny katalog docelowy] ****************************************************
2025-10-14 13:52:56,050 p=122245 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:52:56,052 p=122245 u=marek n=ansible | TASK [Utw√≥rz archiwum tar.gz na zdalnym serwerze] *****************************************
2025-10-14 13:52:56,069 p=122245 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:52:56,071 p=122245 u=marek n=ansible | TASK [Sprawd≈∫ czy archiwum zosta≈Ço utworzone] *********************************************
2025-10-14 13:52:56,087 p=122245 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:52:56,089 p=122245 u=marek n=ansible | TASK [B≈ÇƒÖd - nie uda≈Ço siƒô utworzyƒá archiwum] *********************************************
2025-10-14 13:52:56,105 p=122245 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:52:56,107 p=122245 u=marek n=ansible | TASK [Pobierz archiwum na localhost] ******************************************************
2025-10-14 13:52:56,124 p=122245 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:52:56,126 p=122245 u=marek n=ansible | TASK [Usu≈Ñ tymczasowe archiwum ze zdalnego serwera] ***************************************
2025-10-14 13:52:56,142 p=122245 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:52:56,144 p=122245 u=marek n=ansible | TASK [Sprawd≈∫ rozmiar pobranego archiwum] *************************************************
2025-10-14 13:52:56,160 p=122245 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:52:56,162 p=122245 u=marek n=ansible | TASK [Wy≈õwietl podsumowanie archiwizacji] *************************************************
2025-10-14 13:52:56,178 p=122245 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:52:56,180 p=122245 u=marek n=ansible | TASK [Sprawd≈∫ czy plik archiwum istnieje lokalnie] ****************************************
2025-10-14 13:52:56,333 p=122245 u=marek n=ansible | ok: [192.168.1.144 -> localhost]
2025-10-14 13:52:56,335 p=122245 u=marek n=ansible | TASK [B≈ÇƒÖd - plik archiwum nie istnieje] **************************************************
2025-10-14 13:52:56,356 p=122245 u=marek n=ansible | fatal: [192.168.1.144]: FAILED! => changed=false 
  msg: 'Plik archiwum /home/marek/testcopy nie istnieje na localhost (sprawdzano: /home/marek/testcopy)'
2025-10-14 13:52:56,357 p=122245 u=marek n=ansible | PLAY RECAP ********************************************************************************
2025-10-14 13:52:56,357 p=122245 u=marek n=ansible | 192.168.1.144              : ok=3    changed=0    unreachable=0    failed=1    skipped=19   rescued=0    ignored=0   
2025-10-14 13:53:38,861 p=122364 u=marek n=ansible | PLAY [BACKUP MODULE - ZarzƒÖdzanie archiwami] **********************************************
2025-10-14 13:53:38,865 p=122364 u=marek n=ansible | TASK [Gathering Facts] ********************************************************************
2025-10-14 13:53:39,591 p=122364 u=marek n=ansible | ok: [192.168.1.144]
2025-10-14 13:53:39,594 p=122364 u=marek n=ansible | TASK [Sprawd≈∫ czy podano akcjƒô] ***********************************************************
2025-10-14 13:53:39,611 p=122364 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:53:39,613 p=122364 u=marek n=ansible | TASK [Sprawd≈∫ parametry dla archive] ******************************************************
2025-10-14 13:53:39,630 p=122364 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:53:39,632 p=122364 u=marek n=ansible | TASK [Sprawd≈∫ parametry dla extract] ******************************************************
2025-10-14 13:53:39,650 p=122364 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:53:39,652 p=122364 u=marek n=ansible | TASK [Wy≈õwietl informacje o akcji] ********************************************************
2025-10-14 13:53:39,673 p=122364 u=marek n=ansible | ok: [192.168.1.144] => 
  msg: |-
    === BACKUP MODULE ===
    Akcja: EXTRACT
    ≈πr√≥d≈Ço (lokalny): ~/testcopy_192.168.1.54_1760442720.tar.gz
    Cel (zdalny): /home/marek/testcopy_extract
    Host: 192.168.1.144
    Katalog tymczasowy: /tmp
2025-10-14 13:53:39,677 p=122364 u=marek n=ansible | TASK [Sprawd≈∫ czy katalog ≈∫r√≥d≈Çowy istnieje] **********************************************
2025-10-14 13:53:39,696 p=122364 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:53:39,698 p=122364 u=marek n=ansible | TASK [B≈ÇƒÖd - katalog ≈∫r√≥d≈Çowy nie istnieje] ***********************************************
2025-10-14 13:53:39,715 p=122364 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:53:39,717 p=122364 u=marek n=ansible | TASK [Sprawd≈∫ rozmiar katalogu ≈∫r√≥d≈Çowego] ************************************************
2025-10-14 13:53:39,734 p=122364 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:53:39,738 p=122364 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôpne miejsce w /tmp] ****************************************************
2025-10-14 13:53:39,754 p=122364 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:53:39,756 p=122364 u=marek n=ansible | TASK [Ustaw przyk≈Çadowe warto≈õci dla dry-run] *********************************************
2025-10-14 13:53:39,773 p=122364 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:53:39,775 p=122364 u=marek n=ansible | TASK [Oblicz wymagane miejsce (z marginesem 20%)] *****************************************
2025-10-14 13:53:39,790 p=122364 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:53:39,792 p=122364 u=marek n=ansible | TASK [Wy≈õwietl informacje o miejscu] ******************************************************
2025-10-14 13:53:39,808 p=122364 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:53:39,810 p=122364 u=marek n=ansible | TASK [Sprawd≈∫ czy wystarczy miejsca] ******************************************************
2025-10-14 13:53:39,826 p=122364 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:53:39,828 p=122364 u=marek n=ansible | TASK [Utw√≥rz lokalny katalog docelowy] ****************************************************
2025-10-14 13:53:39,844 p=122364 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:53:39,846 p=122364 u=marek n=ansible | TASK [Utw√≥rz archiwum tar.gz na zdalnym serwerze] *****************************************
2025-10-14 13:53:39,862 p=122364 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:53:39,865 p=122364 u=marek n=ansible | TASK [Sprawd≈∫ czy archiwum zosta≈Ço utworzone] *********************************************
2025-10-14 13:53:39,880 p=122364 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:53:39,882 p=122364 u=marek n=ansible | TASK [B≈ÇƒÖd - nie uda≈Ço siƒô utworzyƒá archiwum] *********************************************
2025-10-14 13:53:39,899 p=122364 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:53:39,901 p=122364 u=marek n=ansible | TASK [Pobierz archiwum na localhost] ******************************************************
2025-10-14 13:53:39,916 p=122364 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:53:39,918 p=122364 u=marek n=ansible | TASK [Usu≈Ñ tymczasowe archiwum ze zdalnego serwera] ***************************************
2025-10-14 13:53:39,934 p=122364 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:53:39,936 p=122364 u=marek n=ansible | TASK [Sprawd≈∫ rozmiar pobranego archiwum] *************************************************
2025-10-14 13:53:39,953 p=122364 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:53:39,955 p=122364 u=marek n=ansible | TASK [Wy≈õwietl podsumowanie archiwizacji] *************************************************
2025-10-14 13:53:39,971 p=122364 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:53:39,974 p=122364 u=marek n=ansible | TASK [Sprawd≈∫ czy plik archiwum istnieje lokalnie] ****************************************
2025-10-14 13:53:40,127 p=122364 u=marek n=ansible | ok: [192.168.1.144 -> localhost]
2025-10-14 13:53:40,129 p=122364 u=marek n=ansible | TASK [B≈ÇƒÖd - plik archiwum nie istnieje] **************************************************
2025-10-14 13:53:40,152 p=122364 u=marek n=ansible | fatal: [192.168.1.144]: FAILED! => changed=false 
  msg: 'Plik archiwum ~/testcopy_192.168.1.54_1760442720.tar.gz nie istnieje na localhost (sprawdzano: /home/marek/CODE/ansible-automation-linux/~/testcopy_192.168.1.54_1760442720.tar.gz)'
2025-10-14 13:53:40,152 p=122364 u=marek n=ansible | PLAY RECAP ********************************************************************************
2025-10-14 13:53:40,152 p=122364 u=marek n=ansible | 192.168.1.144              : ok=3    changed=0    unreachable=0    failed=1    skipped=19   rescued=0    ignored=0   
2025-10-14 13:54:04,120 p=122462 u=marek n=ansible | PLAY [BACKUP MODULE - ZarzƒÖdzanie archiwami] **********************************************
2025-10-14 13:54:04,124 p=122462 u=marek n=ansible | TASK [Gathering Facts] ********************************************************************
2025-10-14 13:54:04,845 p=122462 u=marek n=ansible | ok: [192.168.1.144]
2025-10-14 13:54:04,847 p=122462 u=marek n=ansible | TASK [Sprawd≈∫ czy podano akcjƒô] ***********************************************************
2025-10-14 13:54:04,863 p=122462 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:54:04,865 p=122462 u=marek n=ansible | TASK [Sprawd≈∫ parametry dla archive] ******************************************************
2025-10-14 13:54:04,882 p=122462 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:54:04,884 p=122462 u=marek n=ansible | TASK [Sprawd≈∫ parametry dla extract] ******************************************************
2025-10-14 13:54:04,902 p=122462 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:54:04,904 p=122462 u=marek n=ansible | TASK [Wy≈õwietl informacje o akcji] ********************************************************
2025-10-14 13:54:04,926 p=122462 u=marek n=ansible | ok: [192.168.1.144] => 
  msg: |-
    === BACKUP MODULE ===
    Akcja: EXTRACT
    ≈πr√≥d≈Ço (lokalny): /home/marek/testcopy_192.168.1.54_1760442720.tar.gz
    Cel (zdalny): /home/marek/testcopy_extract
    Host: 192.168.1.144
    Katalog tymczasowy: /tmp
2025-10-14 13:54:04,931 p=122462 u=marek n=ansible | TASK [Sprawd≈∫ czy katalog ≈∫r√≥d≈Çowy istnieje] **********************************************
2025-10-14 13:54:04,948 p=122462 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:54:04,950 p=122462 u=marek n=ansible | TASK [B≈ÇƒÖd - katalog ≈∫r√≥d≈Çowy nie istnieje] ***********************************************
2025-10-14 13:54:04,967 p=122462 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:54:04,969 p=122462 u=marek n=ansible | TASK [Sprawd≈∫ rozmiar katalogu ≈∫r√≥d≈Çowego] ************************************************
2025-10-14 13:54:04,987 p=122462 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:54:04,991 p=122462 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôpne miejsce w /tmp] ****************************************************
2025-10-14 13:54:05,007 p=122462 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:54:05,010 p=122462 u=marek n=ansible | TASK [Ustaw przyk≈Çadowe warto≈õci dla dry-run] *********************************************
2025-10-14 13:54:05,026 p=122462 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:54:05,029 p=122462 u=marek n=ansible | TASK [Oblicz wymagane miejsce (z marginesem 20%)] *****************************************
2025-10-14 13:54:05,046 p=122462 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:54:05,049 p=122462 u=marek n=ansible | TASK [Wy≈õwietl informacje o miejscu] ******************************************************
2025-10-14 13:54:05,064 p=122462 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:54:05,066 p=122462 u=marek n=ansible | TASK [Sprawd≈∫ czy wystarczy miejsca] ******************************************************
2025-10-14 13:54:05,082 p=122462 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:54:05,084 p=122462 u=marek n=ansible | TASK [Utw√≥rz lokalny katalog docelowy] ****************************************************
2025-10-14 13:54:05,101 p=122462 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:54:05,103 p=122462 u=marek n=ansible | TASK [Utw√≥rz archiwum tar.gz na zdalnym serwerze] *****************************************
2025-10-14 13:54:05,120 p=122462 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:54:05,122 p=122462 u=marek n=ansible | TASK [Sprawd≈∫ czy archiwum zosta≈Ço utworzone] *********************************************
2025-10-14 13:54:05,137 p=122462 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:54:05,140 p=122462 u=marek n=ansible | TASK [B≈ÇƒÖd - nie uda≈Ço siƒô utworzyƒá archiwum] *********************************************
2025-10-14 13:54:05,155 p=122462 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:54:05,157 p=122462 u=marek n=ansible | TASK [Pobierz archiwum na localhost] ******************************************************
2025-10-14 13:54:05,173 p=122462 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:54:05,176 p=122462 u=marek n=ansible | TASK [Usu≈Ñ tymczasowe archiwum ze zdalnego serwera] ***************************************
2025-10-14 13:54:05,191 p=122462 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:54:05,193 p=122462 u=marek n=ansible | TASK [Sprawd≈∫ rozmiar pobranego archiwum] *************************************************
2025-10-14 13:54:05,209 p=122462 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:54:05,211 p=122462 u=marek n=ansible | TASK [Wy≈õwietl podsumowanie archiwizacji] *************************************************
2025-10-14 13:54:05,228 p=122462 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:54:05,230 p=122462 u=marek n=ansible | TASK [Sprawd≈∫ czy plik archiwum istnieje lokalnie] ****************************************
2025-10-14 13:54:05,384 p=122462 u=marek n=ansible | ok: [192.168.1.144 -> localhost]
2025-10-14 13:54:05,386 p=122462 u=marek n=ansible | TASK [B≈ÇƒÖd - plik archiwum nie istnieje] **************************************************
2025-10-14 13:54:05,404 p=122462 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:54:05,407 p=122462 u=marek n=ansible | TASK [Utw√≥rz katalog docelowy na zdalnym serwerze] ****************************************
2025-10-14 13:54:05,580 p=122462 u=marek n=ansible | changed: [192.168.1.144]
2025-10-14 13:54:05,582 p=122462 u=marek n=ansible | TASK [Wygeneruj nazwƒô tymczasowego pliku] *************************************************
2025-10-14 13:54:05,603 p=122462 u=marek n=ansible | ok: [192.168.1.144]
2025-10-14 13:54:05,607 p=122462 u=marek n=ansible | TASK [Skopiuj archiwum na zdalny serwer] **************************************************
2025-10-14 13:54:05,979 p=122462 u=marek n=ansible | changed: [192.168.1.144]
2025-10-14 13:54:05,981 p=122462 u=marek n=ansible | TASK [Sprawd≈∫ zawarto≈õƒá archiwum] *********************************************************
2025-10-14 13:54:06,154 p=122462 u=marek n=ansible | ok: [192.168.1.144]
2025-10-14 13:54:06,156 p=122462 u=marek n=ansible | TASK [Wy≈õwietl zawarto≈õƒá archiwum] ********************************************************
2025-10-14 13:54:06,177 p=122462 u=marek n=ansible | ok: [192.168.1.144] => 
  msg: |-
    === ZAWARTO≈öƒÜ ARCHIWUM ===
    testcopy/
    testcopy/01
    testcopy/02
    testcopy/03
    testcopy/04
2025-10-14 13:54:06,179 p=122462 u=marek n=ansible | TASK [Sprawd≈∫ dostƒôpne miejsce dla ekstraktowania] ****************************************
2025-10-14 13:54:06,309 p=122462 u=marek n=ansible | ok: [192.168.1.144]
2025-10-14 13:54:06,312 p=122462 u=marek n=ansible | TASK [Ustaw przyk≈Çadowe warto≈õci dla extract dry-run] *************************************
2025-10-14 13:54:06,328 p=122462 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:54:06,330 p=122462 u=marek n=ansible | TASK [Rozpakuj archiwum] ******************************************************************
2025-10-14 13:54:06,459 p=122462 u=marek n=ansible | changed: [192.168.1.144]
2025-10-14 13:54:06,462 p=122462 u=marek n=ansible | TASK [Usu≈Ñ tymczasowe archiwum] ***********************************************************
2025-10-14 13:54:06,587 p=122462 u=marek n=ansible | changed: [192.168.1.144]
2025-10-14 13:54:06,590 p=122462 u=marek n=ansible | TASK [Sprawd≈∫ wyniki ekstraktowania] ******************************************************
2025-10-14 13:54:06,755 p=122462 u=marek n=ansible | ok: [192.168.1.144]
2025-10-14 13:54:06,758 p=122462 u=marek n=ansible | TASK [Ustaw przyk≈Çadowe warto≈õci extracted_files dla dry-run] *****************************
2025-10-14 13:54:06,773 p=122462 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:54:06,775 p=122462 u=marek n=ansible | TASK [Wy≈õwietl podsumowanie ekstraktowania] ***********************************************
2025-10-14 13:54:06,796 p=122462 u=marek n=ansible | ok: [192.168.1.144] => 
  msg: |-
    === EKSTRAKTOWANIE ZAKO≈ÉCZONE ===
    Archiwum: /home/marek/testcopy_192.168.1.54_1760442720.tar.gz
    Cel: /home/marek/testcopy_extract
    Wyekstraktowano: 4 plik√≥w/katalog√≥w
    Dostƒôpne miejsce: 13.55 GB
    Status: ‚úÖ Sukces
2025-10-14 13:54:06,799 p=122462 u=marek n=ansible | TASK [Wy≈õwietl instrukcje] ****************************************************************
2025-10-14 13:54:06,806 p=122462 u=marek n=ansible | ok: [192.168.1.144] => 
  msg: "=== INSTRUKCJE BACKUP MODULE ===\n\n\U0001F4E6 TWORZENIE KOPII ZAPASOWEJ (ARCHIVE):\n./run-automation.sh backup -e \"task_action=archive source=/path/to/backup target=./backup\"\n\n\U0001F4C2 PRZYWRACANIE Z KOPII (EXTRACT):\n./run-automation.sh backup -e \"task_action=extract source=./backup/file.tar.gz target=/path/to/restore\"\n\n\U0001F527 DODATKOWE OPCJE:\n- min_space=2: Minimalne miejsce w GB (domy≈õlnie 1)\n- compression=9: Poziom kompresji 1-9 (domy≈õlnie 6)\n- exclude=\"*.log,*.tmp\": Wzorce wyklucze≈Ñ\n\n\U0001F4CB PRZYK≈ÅADY:\n# Kopia Tomcat\n./run-automation.sh backup -e \"task_action=archive source=/opt/tomcat target=./backups\"\n\n# Przywr√≥ƒá Tomcat\n./run-automation.sh backup -e \"task_action=extract source=./backups/tomcat_server1_123456.tar.gz target=/opt/tomcat\"\n\n# Z wykluczeniami\n./run-automation.sh backup -e \"task_action=archive source=/var/www exclude='*.log,cache/*,*.tmp' target=./www-backup\""
2025-10-14 13:54:06,811 p=122462 u=marek n=ansible | PLAY RECAP ********************************************************************************
2025-10-14 13:54:06,811 p=122462 u=marek n=ansible | 192.168.1.144              : ok=14   changed=4    unreachable=0    failed=0    skipped=22   rescued=0    ignored=0   
2025-10-14 13:56:12,350 p=122648 u=marek n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the
implicit localhost does not match 'all'

2025-10-14 13:56:12,444 p=122648 u=marek n=ansible | PLAY [INSTALL MODULE - Instalacja pakiet√≥w] ***********************************************
2025-10-14 13:56:12,444 p=122648 u=marek n=ansible | skipping: no hosts matched
2025-10-14 13:56:12,444 p=122648 u=marek n=ansible | PLAY RECAP ********************************************************************************
2025-10-14 13:56:40,593 p=122690 u=marek n=ansible | PLAY [INSTALL MODULE - Instalacja pakiet√≥w] ***********************************************
2025-10-14 13:56:40,596 p=122690 u=marek n=ansible | TASK [Gathering Facts] ********************************************************************
2025-10-14 13:56:41,391 p=122690 u=marek n=ansible |  [ERROR]: User interrupted execution

2025-10-14 13:56:55,587 p=122747 u=marek n=ansible | PLAY [INSTALL MODULE - Instalacja pakiet√≥w] ***********************************************
2025-10-14 13:56:55,591 p=122747 u=marek n=ansible | TASK [Gathering Facts] ********************************************************************
2025-10-14 13:56:56,322 p=122747 u=marek n=ansible | ok: [192.168.1.144]
2025-10-14 13:56:56,324 p=122747 u=marek n=ansible | TASK [Sprawd≈∫ czy podano nazwƒô pakietu] ***************************************************
2025-10-14 13:56:56,341 p=122747 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:56:56,344 p=122747 u=marek n=ansible | TASK [Wy≈õwietl informacje o instalacji] ***************************************************
2025-10-14 13:56:56,363 p=122747 u=marek n=ansible | ok: [192.168.1.144] => 
  msg: |-
    === INSTALACJA PAKIET√ìW ===
    Pakiety: git
    Stan: present
    Aktualizacja cache: True
    Rekomendacje: True
    System: RedHat
    Dystrybucja: RedHat 9.6
2025-10-14 13:56:56,368 p=122747 u=marek n=ansible | TASK [Sprawd≈∫ system operacyjny] **********************************************************
2025-10-14 13:56:56,376 p=122747 u=marek n=ansible | ok: [192.168.1.144] => 
  msg: 'Wykryto system: RedHat'
2025-10-14 13:56:56,378 p=122747 u=marek n=ansible | TASK [Aktualizuj cache apt (Debian/Ubuntu)] ***********************************************
2025-10-14 13:56:56,385 p=122747 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:56:56,387 p=122747 u=marek n=ansible | TASK [Zainstaluj pakiety przez apt (Debian/Ubuntu)] ***************************************
2025-10-14 13:56:56,394 p=122747 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:56:56,396 p=122747 u=marek n=ansible | TASK [Zainstaluj pakiety przez yum/dnf (RHEL/CentOS/Fedora)] ******************************
2025-10-14 13:57:24,093 p=122747 u=marek n=ansible | changed: [192.168.1.144]
2025-10-14 13:57:24,096 p=122747 u=marek n=ansible | TASK [Zainstaluj pakiety przez pacman (Arch Linux)] ***************************************
2025-10-14 13:57:24,103 p=122747 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:57:24,106 p=122747 u=marek n=ansible | TASK [Zainstaluj pakiety przez zypper (openSUSE)] *****************************************
2025-10-14 13:57:24,113 p=122747 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:57:24,115 p=122747 u=marek n=ansible | TASK [Zbierz wyniki instalacji] ***********************************************************
2025-10-14 13:57:24,124 p=122747 u=marek n=ansible | ok: [192.168.1.144]
2025-10-14 13:57:24,127 p=122747 u=marek n=ansible | TASK [Sprawd≈∫ czy pakiety zosta≈Çy zainstalowane] ******************************************
2025-10-14 13:57:24,785 p=122747 u=marek n=ansible | ok: [192.168.1.144]
2025-10-14 13:57:24,793 p=122747 u=marek n=ansible | TASK [Wy≈õwietl status instalacji] *********************************************************
2025-10-14 13:57:24,815 p=122747 u=marek n=ansible | ok: [192.168.1.144] => 
  msg: |-
    === STATUS INSTALACJI ===
    ‚úÖ git: Zainstalowany (wersja: 2.47.3)
  
    === SZCZEG√ì≈ÅY ===
    Zmieniono: True
    Mened≈ºer pakiet√≥w: dnf
2025-10-14 13:57:24,824 p=122747 u=marek n=ansible | TASK [Wyczy≈õƒá cache pakiet√≥w (je≈õli w≈ÇƒÖczone)] ********************************************
2025-10-14 13:57:24,834 p=122747 u=marek n=ansible | skipping: [192.168.1.144]
2025-10-14 13:57:24,844 p=122747 u=marek n=ansible | TASK [Wy≈õwietl podsumowanie] **************************************************************
2025-10-14 13:57:24,880 p=122747 u=marek n=ansible | ok: [192.168.1.144] => 
  msg: |-
    === PODSUMOWANIE INSTALACJI ===
    System: RedHat 9.6
    Pakiety: git
    Status: Zainstalowano pomy≈õlnie
    Mened≈ºer: dnf
  
    === POLECENIA SPRAWDZAJƒÑCE ===
    Sprawd≈∫ git: which git || dpkg -l | grep git
  
    === PRZYK≈ÅADY U≈ªYCIA ===
    Instalacja z aktualizacjƒÖ: ./run-automation.sh install -e "name=htop update=true"
    Wiele pakiet√≥w: ./run-automation.sh install -e "name=vim,git,curl"
    Najnowsza wersja: ./run-automation.sh install -e "name=nginx state=latest"
    Z czyszczeniem: ./run-automation.sh install -e "name=docker.io cleanup=true"
2025-10-14 13:57:24,924 p=122747 u=marek n=ansible | PLAY RECAP ********************************************************************************
2025-10-14 13:57:24,924 p=122747 u=marek n=ansible | 192.168.1.144              : ok=8    changed=1    unreachable=0    failed=0    skipped=6    rescued=0    ignored=0   
